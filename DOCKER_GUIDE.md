# üê≥ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Docker –¥–ª—è –õ–†8

## –í–∏–º–æ–≥–∏

- **Docker Desktop** (AMD64 –¥–ª—è Windows/Mac –∑ Intel/AMD, ARM64 –¥–ª—è ARM-–ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ–≤)
- **Docker Compose** v2+ (–≤—Ö–æ–¥–∏—Ç—å –≤ Docker Desktop)
- ~500 MB –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è –Ω–∞ –¥–∏—Å–∫—É

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker

–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —ñ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [Docker Desktop](https://www.docker.com/products/docker-desktop) –¥–ª—è –≤–∞—à–æ—ó –û–°.

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:
```powershell
docker --version
docker compose version
```

### 2. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ—î–∫—Ç—É

–ö–ª–æ–Ω—É–π—Ç–µ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```powershell
cd DailyMood3.0
```

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ —î —Ñ–∞–π–ª–∏:
- `Dockerfile` ‚Äî —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –æ–±—Ä–∞–∑—É
- `docker-compose.yml` ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è
- `.env` ‚Äî –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- `requirements.txt` ‚Äî Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

### 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–ü–µ—Ä—à–∏–π —Ä–∞–∑** (–∑—ñ–±—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑ + –∑–∞–ø—É—Å—Ç–∏—Ç–∏):
```powershell
docker compose up --build
```

**–ù–∞—Å—Ç—É–ø–Ω—ñ —Ä–∞–∑–∏** (–ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏):
```powershell
docker compose up
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —É —Ñ–æ–Ω—ñ** (–Ω–µ –∑–∞–π–º–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª):
```powershell
docker compose up -d
```

### 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
- **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞:** `http://127.0.0.1:5000`
- **Lab 6 –¥–µ–º–æ:** `http://127.0.0.1:5000/lab6`
- **API feedback:** `http://127.0.0.1:5000/api/feedback`
- **Healthcheck:** `http://127.0.0.1:5000/health`

–ê–±–æ —á–µ—Ä–µ–∑ curl:
```powershell
curl http://127.0.0.1:5000/health
# –í—ñ–¥–ø–æ–≤—ñ–¥—å: {"status": "ok"}
```

### 5. –ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```powershell
# –ó—É–ø–∏–Ω–∏—Ç–∏ (—É —Ç–æ–º—É –∂ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –¥–µ –∑–∞–ø—É—Å—Ç–∏–ª–∏ Ctrl+C)
# –ê–±–æ —É –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:
docker compose down
```

---

## –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –©–æ —Ä–æ–±–∏—Ç—å Dockerfile?

```dockerfile
FROM python:3.11-slim              # –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ (~150 MB)
WORKDIR /app                       # –†–æ–±–æ—á–∞ –ø–∞–ø–∫–∞
RUN apt-get update && apt-get install -y curl  # –Ü–Ω—Å—Ç–∞–ª—é—î–º–æ curl –¥–ª—è healthcheck
COPY requirements.txt ./           # –ö–æ–ø—ñ—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
RUN pip install --no-cache-dir -r requirements.txt  # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ Flask, SQLAlchemy —Ç–æ—â–æ
COPY . .                           # –ö–æ–ø—ñ—é—î–º–æ –∫–æ–¥
RUN mkdir -p /app/data            # –°—Ç–≤–æ—Ä—é—î–º–æ –ø–∞–ø–∫—É –¥–ª—è –ë–î
EXPOSE 5000                        # –ü—Ä–æ–∫—Å—É—î–º–æ –ø–æ—Ä—Ç 5000
HEALTHCHECK ...                    # –ö–æ–∂–Ω—ñ 30 —Å–µ–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ /health
CMD ["gunicorn", "-b", "0.0.0.0:5000", "app:app"]  # –ó–∞–ø—É—Å–∫–∞—î–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –æ–±—Ä–∞–∑ (~400 MB) –∑ Python, Flask, SQLAlchemy, gunicorn —ñ –≤–∞—à–∏–º –∫–æ–¥–æ–º.

---

### –©–æ —Ä–æ–±–∏—Ç—å docker-compose.yml?

```yaml
services:
  app:
    build: .                          # –ó—ñ–±—Ä–∞—Ç–∏ –æ–±—Ä–∞–∑ –∑ Dockerfile
    container_name: dailymood-app     # –Ü–º'—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ports:
      - "5000:5000"                   # –ü—Ä–æ–∫—Å—É–≤–∞—Ç–∏ –ø–æ—Ä—Ç 5000
    env_file: .env                    # –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –∑ .env
    environment:
      - DATABASE_URL=sqlite:///data/dailymood.db
      - FLASK_ENV=production
    volumes:
      - ./data:/app/data              # –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –ë–î –∑ —Ö–æ—Å—Ç–æ–º
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5000/health"]
      interval: 30s                   # –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫
      timeout: 5s                     # –ß–µ–∫–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –º–∞–∫—Å–∏–º—É–º 5 —Å–µ–∫
      retries: 3                      # –Ø–∫—â–æ 3 —Ä–∞–∑–∏ fail ‚Üí unhealthy
      start_period: 5s                # –ß–µ–∫–∞—Ç–∏ 5 —Å–µ–∫ –¥–æ –ø–µ—Ä—à–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
    restart: unless-stopped           # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏ —è–∫—â–æ —É–ø–∞–≤
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ –ø–æ—Ä—Ç—ñ 5000 –∑ –±–∞–∑–æ—é –≤ `./data`.

---

### –§–∞–π–ª .env

```
FLASK_ENV=production
SECRET_KEY=dev-secret-key-change-in-production
DATABASE_URL=sqlite:///data/dailymood.db
FLASK_RUN_HOST=0.0.0.0
FLASK_RUN_PORT=5000
```

**–í–∞–∂–ª–∏–≤–æ:** –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –∑–º—ñ–Ω—ñ—Ç—å `SECRET_KEY` –Ω–∞ —â–æ—Å—å –¥–æ–≤–≥–µ —ñ –≤–∏–ø–∞–¥–∫–æ–≤–µ!

---

## –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤ —Ñ–æ–Ω—ñ
docker compose up -d

# –ü–æ–¥–∏–≤–∏—Ç–∏—Å—å —á–∏ –ø—Ä–∞—Ü—é—î
docker ps

# –ü–æ–¥–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
docker compose logs -f

# –ü–æ–¥–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏ –∑—É–ø–∏–Ω–µ–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose logs

# –ó—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–º–æ–∂–Ω–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏)
docker compose stop

# –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–∞–Ω—ñ –≤ volume –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è)
docker compose down

# –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + –≤–∏–¥–∞–ª–∏—Ç–∏ volume (–ë–î —Ç–∞–∫–æ–∂ –≤–∏–¥–∞–ª–∏—Ç—å—Å—è!)
docker compose down -v

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose restart
```

### –î–µ–±–∞–≥ –≤—Å–µ—Ä–µ–¥–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```powershell
# –ó–∞–π—Ç–∏ –≤ bash (–¥–ª—è –¥–µ–±–∞–≥—É)
docker exec -it dailymoon-app bash

# –í—Å–µ—Ä–µ–¥–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (shell):
ls -la /app           # –î–∏–≤–∏–º–æ—Å—å –ø–∞–ø–∫—É
ls -la /app/data      # –î–∏–≤–∏–º–æ—Å—å –¥–µ –ª–µ–∂–∏—Ç—å –±–∞–∑–∞
python --version      # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ Python
pip list              # –°–ø–∏—Å–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤
exit                  # –í–∏–π—Ç–∏ –∑ shell
```

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–±—Ä–∞–∑–∞–º–∏

```powershell
# –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑—ñ–≤
docker images

# –í–∏–¥–∞–ª–∏—Ç–∏ –æ–±—Ä–∞–∑ (—è–∫—â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –≤–∏–¥–∞–ª–µ–Ω–æ)
docker rmi dailymood30-app

# –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ –Ω–µ–≤–∂–∏–≤–∞–Ω–µ (–¥–æ–∫–µ—Ä–∏, –æ–±—Ä–∞–∑–∏, volumes)
docker system prune -a
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
DailyMood3.0/
‚îú‚îÄ‚îÄ Dockerfile              # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –æ–±—Ä–∞–∑—É
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ .dockerignore          # –§–∞–π–ª–∏ —è–∫—ñ –Ω–µ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤ –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .env                   # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ .env.example           # –®–∞–±–ª–æ–Ω –¥–ª—è .env (–≤ git)
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ app.py                 # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ models.py              # SQLAlchemy –º–æ–¥–µ–ª—ñ
‚îú‚îÄ‚îÄ schemas.py             # Marshmallow –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
‚îÇ
‚îú‚îÄ‚îÄ templates/             # HTML —à–∞–±–ª–æ–Ω–∏
‚îú‚îÄ‚îÄ static/                # CSS, JS, —ñ–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ scripts/               # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î
‚îú‚îÄ‚îÄ data/                  # SQLite –±–∞–∑–∞ (volume)
‚îÇ   ‚îî‚îÄ‚îÄ dailymood.db      # –ë–î (–∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ —á–µ—Ä–µ–∑ volume)
‚îî‚îÄ‚îÄ README.md              # –¶–µ–π —Ñ–∞–π–ª + Lab 6 –∑–≤—ñ—Ç
```

---

## –ü—Ä–æ–±–ª–µ–º–∏ —ñ —Ä—ñ—à–µ–Ω–Ω—è

### ‚ùå "docker: command not found"
**–†—ñ—à–µ–Ω–Ω—è:** Docker –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∞–±–æ –Ω–µ —É PATH. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Docker Desktop.

### ‚ùå "port 5000 already in use"
**–†—ñ—à–µ–Ω–Ω—è:** –Ü–Ω—à–∏–π –ø—Ä–æ—Ü–µ—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç 5000:
```powershell
# –ó–Ω–∞–π–¥–∏ —è–∫–∏–π –ø—Ä–æ—Ü–µ—Å –∑–∞–π–º–∞—î –ø–æ—Ä—Ç
netstat -ano | findstr :5000

# –ê–±–æ –∑–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç —É docker-compose.yml:
ports:
  - "8000:5000"  # –¢–µ–ø–µ—Ä –Ω–∞ http://127.0.0.1:8000
```

### ‚ùå ".env file not found"
**–†—ñ—à–µ–Ω–Ω—è:** –°–∫–æ–ø—ñ—é–π—Ç–µ `.env.example` ‚Üí `.env`:
```powershell
copy .env.example .env
```

### ‚ùå "healthcheck failed" (unhealthy status)
**–†—ñ—à–µ–Ω–Ω—è:** –ß–µ–∫–∞–π—Ç–µ —Ç—Ä–æ—Ö–∏ (start_period = 5 —Å–µ–∫), –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å:
```powershell
docker compose restart
docker compose logs -f  # –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏
```

### ‚ùå "database locked" –∞–±–æ –ø–æ–º–∏–ª–∫–∏ –∑ SQLite
**–†—ñ—à–µ–Ω–Ω—è:** SQLite –Ω–µ –ª—é–±–ª–∏—Ç—å –∫–æ–ª–∏ 2 –ø—Ä–æ—Ü–µ—Å–∏ –ø–∏—à—É—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å:
```powershell
docker compose down
docker compose up --build
```

---

## Volume (–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö)

```yaml
volumes:
  - ./data:/app/data
```

–¶–µ –æ–∑–Ω–∞—á–∞—î:
- –ü–∞–ø–∫–∞ `./data` –Ω–∞ **–≤–∞—à–æ–º—É –ü–ö** —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∞ –∑ `/app/data` **–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ**
- SQLite –±–∞–∑–∞ (`dailymood.db`) –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É –ü–ö
- –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–∞–∑–∞ **–Ω–µ –≤–∏–¥–∞–ª–∏—Ç—å—Å—è**
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–∞–∑–∞ **–∑–∞–ª–∏—à–∏—Ç—å—Å—è** —Ç–æ–π –∂

**–í–∞–∂–ª–∏–≤–æ:** –Ø–∫—â–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ `docker compose down -v` (—Ñ–ª–∞–≥ `-v`) ‚Äî –±–∞–∑–∞ –≤–∏–¥–∞–ª–∏—Ç—å—Å—è!

---

## Healthcheck

–ö–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥ Docker –∑–∞–ø—É—Å–∫–∞—î —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```bash
curl -f http://127.0.0.1:5000/health
```

–Ø–∫—â–æ `200 OK` + –≤—ñ–¥–ø–æ–≤—ñ–¥—å `{"status": "ok"}` ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **healthy** ‚úÖ

–Ø–∫—â–æ 3 —Ä–∞–∑–∏ –ø–æ—Å–ø—ñ–ª—å fail ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **unhealthy** ‚ùå (–∞–ª–µ –≤—Å–µ —â–µ –ø—Ä–∞—Ü—é—î, —Ç—ñ–ª—å–∫–∏ –ø–æ–º—ñ—á–µ–Ω–æ —â–æ —î –ø—Ä–æ–±–ª–µ–º–∞).

**–î–ª—è —á–æ–≥–æ:** –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (Kubernetes, Swarm) –º–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ unhealthy –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –π–æ–≥–æ.

---

## Gunicorn vs Flask dev server

**Flask dev server** (—â–æ —É –≤–∞—Å —Ä–∞–Ω—ñ—à–µ):
```bash
python app.py
# WARNING: This is a development server. Do not use it in production.
```
- –û–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∏–π (–æ–±—Ä–æ–±–ª—è—î 1 –∑–∞–ø–∏—Ç –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
- –ù–µ —Å—Ç—ñ–π–∫–∏–π –¥–æ –ø–æ–º–∏–ª–æ–∫
- –î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç—ñ–ª—å–∫–∏

**Gunicorn** (—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ):
```bash
gunicorn -b 0.0.0.0:5000 app:app
# [INFO] Starting gunicorn 23.0.0
# [INFO] Listening at: http://0.0.0.0:5000 (1)
# [INFO] Using worker: sync
```
- –ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–∏–π (–æ–±—Ä–æ–±–ª—è—î –∫—ñ–ª—å–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ)
- –°—Ç—ñ–π–∫–∏–π –¥–æ –ø–æ–º–∏–ª–æ–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î workers)
- Production-ready (—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è production)

---

## –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–∞–∑—É

Dockerfile –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–π–æ–º—ñ–≤ –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É:

1. **Slim base image:** `python:3.11-slim` –∑–∞–º—ñ—Å—Ç—å `python:3.11`
   - Slim: ~150 MB (–±–µ–∑ docs, build tools)
   - Full: ~1 GB (–∑ —É—Å—ñ–º)

2. **--no-cache-dir:** `pip install --no-cache-dir`
   - –ù–µ –∑–±–µ—Ä—ñ–≥–∞—î pip –∫–µ—à (~50 MB)
   - –û–±—Ä–∞–∑ –º–µ–Ω—à–∏–π –Ω–∞ ~50 MB

3. **Clean apt:** `rm -rf /var/lib/apt/lists/*`
   - –í–∏–¥–∞–ª—è—î–º–æ apt package lists (~100 MB)
   - –û–±—Ä–∞–∑ –º–µ–Ω—à–∏–π –Ω–∞ ~100 MB

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –æ–±—Ä–∞–∑ ~400 MB –∑–∞–º—ñ—Å—Ç—å ~1-2 GB.

---

## –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –£ `.env` –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –≤ git:

```bash
# .gitignore
.env
```

–°–∞–º —Ñ–∞–π–ª `.env.example` –º–æ–∂–Ω–∞ –∑–∞–∫–æ–º—ñ—Ç–∏—Ç–∏ (–±–µ–∑ —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö):
```
FLASK_ENV=production
SECRET_KEY=change-me
DATABASE_URL=sqlite:///data/dailymood.db
```

–ú–µ–Ω—Ç–æ—Ä —Å–∫–æ–ø—ñ—é—î `.env.example` ‚Üí `.env` —ñ –∑–∞–ø–æ–≤–Ω–∏—Ç—å —Å–≤–æ—ó –∑–Ω–∞—á–µ–Ω–Ω—è.

---

## FAQ

**Q: –ß–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL –∑–∞–º—ñ—Å—Ç—å SQLite?**  
A: –¢–∞–∫, –¥–æ–¥–∞–π—Ç–µ —â–µ –æ–¥–∏–Ω —Å–µ—Ä–≤—ñ—Å —É `docker-compose.yml`:
```yaml
services:
  db:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: password
  app:
    depends_on:
      - db
    environment:
      DATABASE_URL=postgresql://postgres:password@db:5432/dailymood
```

**Q: –ß–∏ –≤–∏–¥–Ω–æ –∑–º—ñ–Ω–∏ –∫–æ–¥—É –±–µ–∑ –ø–µ—Ä–µ–±—É–¥–æ–≤–∏ –æ–±—Ä–∞–∑—É?**  
A: –ù—ñ, —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏: `docker compose up --build`. –î–ª—è hot-reload –º–æ–∂–Ω–∞ –º–æ–Ω—Ç—É–≤–∞—Ç–∏ –∫–æ–¥ –ø–∞–ø–∫—É —è–∫ volume.

**Q: –Ø–∫ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Å–≤–æ—ó env –∑–º—ñ–Ω–Ω—ñ?**  
A: –î–æ–¥–∞–π—Ç–µ —É `.env` —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å: `docker compose up`

**Q: –ß–∏ –º–æ–∂–Ω–∞ –ª–æ–≥—ñ–Ω–æ—û –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–∏—Å–∞—Ç–∏ –¥–µ-—ñ–Ω–¥–µ?**  
A: –¢–∞–∫, –¥–æ–¥–∞–π—Ç–µ volume: `- ./logs:/app/logs` —ñ –∑–º—ñ–Ω—ñ—Ç—å `app.py` —â–æ–± –ø–∏—Å–∞–≤ –≤ `/app/logs/app.log`.

---

**–£—Å–ø—ñ—Ö—ñ–≤ –Ω–∞ –∑–∞—Ö–∏—Å—Ç—ñ –õ–†8! üöÄ**
