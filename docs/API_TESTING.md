# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ Performance —Ç–µ—Å—Ç—ñ–≤

### –û–≥–ª—è–¥ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **–í—Å—å–æ–≥–æ –∑–∞–ø–∏—Ç—ñ–≤:** 64,285
- **–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:** ~10 —Ö–≤–∏–ª–∏–Ω (17:33 - 17:43 UTC)
- **–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** 30 –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å:** 105.82 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫—É–Ω–¥—É
- **–°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:** 162 –º—Å
- **–†—ñ–≤–µ–Ω—å –ø–æ–º–∏–ª–æ–∫:** 0.76%

### –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏
‚úÖ **–í—ñ–¥–º—ñ–Ω–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
- 99.24% —É—Å–ø—ñ—à–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –ø—ñ–¥ –≤–∏—Å–æ–∫–∏–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –º–µ–Ω—à–µ 200–º—Å
- –°—Ç–∞–±—ñ–ª—å–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å ~106 req/s
- –°–∏—Å—Ç–µ–º–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–æ–±–ª—è—î 30 –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

‚ö†Ô∏è **–í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:**
- 0.76% –ø–æ–º–∏–ª–æ–∫ (488 –∑ 64,285 –∑–∞–ø–∏—Ç—ñ–≤)
- –û—Å–Ω–æ–≤–Ω—ñ —Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫: `EADDRINUSE` (–ø—Ä–æ–±–ª–µ–º–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è), `403 Forbidden`, `500 Internal Server Error`
- –ù–∞–π–ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π endpoint: `GET /api/orders` (978–º—Å —Å–µ—Ä–µ–¥–Ω—î) - –ø–æ—Ç—Ä–µ–±—É—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

---

## üîå –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/auth/login` | POST | 297 | 370 | 2,328 | 0.61% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** –õ–æ–≥—ñ–Ω –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º. –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ token-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–ª—è –∫—Ä–∞—â–æ—ó –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ.

---

### –ü—Ä–æ–¥—É–∫—Ç–∏ —Ç–∞ –ú–∞–≥–∞–∑–∏–Ω
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/products` | GET | 97 | 152 | 2,375 | 0.69% |
| `/api/orders` (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è) | POST | 158 | 219 | 2,813 | 0.82% |
| `/api/orders` (—Å–ø–∏—Å–æ–∫) | GET | **978** | 1,862 | 3,651 | 0.70% |
| `/api/orders/:id` | GET | 131 | 180 | 2,233 | 1.31% |

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:**
- Endpoint `GET /api/orders` —Å–ø–∏—Å–æ–∫ **—É 6 —Ä–∞–∑—ñ–≤ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π** –∑–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π (978–º—Å vs 162–º—Å)
- –ô–º–æ–≤—ñ—Ä–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞: –ø—Ä–æ–±–ª–µ–º–∞ N+1 –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ eager loading –∑ `.join()` –∞–±–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é

---

### –ü–ª–∞—Ç–µ–∂—ñ
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/payments/methods` | GET | 80 | 137 | 1,865 | 0.91% |
| `/api/payments` (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è) | POST | 161 | 212 | 2,875 | 0.95% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** –û–±—Ä–æ–±–∫–∞ –ø–ª–∞—Ç–µ–∂—ñ–≤ —à–≤–∏–¥–∫–∞ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∞. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–∞—Ä—Ç–æ–∫ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ.

---

### –í—ñ–¥–≥—É–∫–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/feedback` | POST | 121 | 175 | 2,567 | 0.91% |
| `/api/feedback` | GET | 146 | 216 | 2,382 | 0.74% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–≥—É–∫—ñ–≤ –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ. –í–∞—Ä—Ç–æ –¥–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é –¥–ª—è GET endpoint.

---

### –©–æ–¥–µ–Ω–Ω–∏–∫ (–ó–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ—é)
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/journal` (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è) | POST | 134 | 187 | 2,810 | 0.74% |
| `/api/journal` (—Å–ø–∏—Å–æ–∫) | GET | 170 | 257 | 2,159 | 0.87% |
| `/api/journal/:id` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è) | PUT | 139 | 168 | 3,426 | 1.13% |
| `/api/journal/:id` (–≤–∏–¥–∞–ª–µ–Ω–Ω—è) | DELETE | 112 | 153 | 3,546 | 1.18% |
| `/api/journal/export?format=csv` | GET | 158 | 251 | 2,144 | 0.61% |
| `/api/journal/export?format=json` | GET | 166 | 252 | 2,062 | 0.61% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** 
- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó —â–æ–¥–µ–Ω–Ω–∏–∫–∞ —à–≤–∏–¥–∫—ñ —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ
- –§—É–Ω–∫—Ü—ñ—è –µ–∫—Å–ø–æ—Ä—Ç—É –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –≤–∏—Ç—Ä–∞—Ç–∞–º–∏
- –¢—Ä–æ—Ö–∏ –≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å –ø–æ–º–∏–ª–æ–∫ –Ω–∞ UPDATE/DELETE (1.13-1.18%) - –π–º–æ–≤—ñ—Ä–Ω–æ 403 –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ

---

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç–∞ –ê–≤–∞—Ç–∞—Ä–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/me` | GET | 108 | 179 | 2,385 | 0.48% |
| `/api/avatars` | GET | 90 | 143 | 2,366 | 0.48% |
| `/api/me/avatar` | PUT | 91 | 146 | 2,160 | 0.48% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ endpoints –º–∞—é—Ç—å –Ω–∞–π–Ω–∏–∂—á–∏–π —Ä—ñ–≤–µ–Ω—å –ø–æ–º–∏–ª–æ–∫ (0.48%) - –≤—ñ–¥–º—ñ–Ω–Ω–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å.

---

### –ó–≤–∏—á–∫–∏
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/habits` | GET | 149 | 221 | 1,944 | 0.57% |
| `/api/habits` | POST | 136 | 183 | 3,141 | 0.52% |
| `/api/habits/:id/toggle` | POST | 113 | 164 | 2,749 | 0.79% |
| `/api/habits/:id` | DELETE | 111 | 164 | 3,230 | 0.87% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** –¢—Ä–µ–∫—ñ–Ω–≥ –∑–≤–∏—á–æ–∫ –ø—Ä–∞—Ü—é—î —á—É–¥–æ–≤–æ. –§—É–Ω–∫—Ü—ñ—è toggle –¥—É–∂–µ —à–≤–∏–¥–∫–∞ (113–º—Å —Å–µ—Ä–µ–¥–Ω—î).

---

### –¶—ñ–ª—ñ
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/api/goals` | GET | 153 | 226 | 2,066 | 0.57% |
| `/api/goals` | POST | 121 | 179 | 2,328 | 0.57% |
| `/api/goals/:id/toggle` | POST | 106 | 157 | 2,218 | 0.66% |
| `/api/goals/:id` | DELETE | 107 | 164 | 2,240 | 0.66% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** API —Ü—ñ–ª–µ–π –ø—Ä–∞—Ü—é—î –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ –∑–≤–∏—á–æ–∫ - —à–≤–∏–¥–∫–æ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ.

---

### –ó–¥–æ—Ä–æ–≤'—è —Ç–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
| Endpoint | –ú–µ—Ç–æ–¥ | –°–µ—Ä. (–º—Å) | 90-–π% (–º—Å) | –ú–∞–∫—Å (–º—Å) | –ü–æ–º–∏–ª–∫–∏ % |
|----------|-------|-----------|------------|-----------|-----------|
| `/health` | GET | 79 | 131 | 2,034 | 0.96% |
| `/api/stats/trends` | GET | 170 | 262 | 1,860 | 0.66% |

**–ü—Ä–∏–º—ñ—Ç–∫–∏:** 
- Health check - –Ω–∞–π—à–≤–∏–¥—à–∏–π endpoint (79–º—Å —Å–µ—Ä–µ–¥–Ω—î)
- –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –ø–æ–ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ–π–Ω—É –ª–æ–≥—ñ–∫—É

---

## üêõ –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞ #1: –ü—Ä–æ–¥—É–∫—Ç–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
**–û–ø–∏—Å:** –ü—Ä–æ–¥—É–∫—Ç–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑ `is_active=False`, —â–æ —Å–ø—Ä–∏—á–∏–Ω—è—î 404 –ø–æ–º–∏–ª–∫–∏ –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è—Ö.

**–ü–æ–º–∏–ª–∫–∞:**
```json
{
  "message": "–ü—Ä–æ–¥—É–∫—Ç #1 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π",
  "status": "error"
}
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö:
```python
products = Product.query.all()
for p in products:
    p.is_active = True
db.session.commit()
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ –∑–∞–ø–∏—Å—ñ–≤ —â–æ–¥–µ–Ω–Ω–∏–∫–∞
**–û–ø–∏—Å:** Update/Delete –∑–∞–ø–∏—Å—ñ–≤ —â–æ–¥–µ–Ω–Ω–∏–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å 403 —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ —î –≤–ª–∞—Å–Ω–∏–∫–æ–º –∑–∞–ø–∏—Å—É.

**–ü–æ–º–∏–ª–∫–∞:**
```json
{
  "message": "–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ",
  "status": "error"
}
```

**–ü—Ä–∏—á–∏–Ω–∞:** Session cookie –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ –≤ —Ç–µ—Å—Ç–æ–≤–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö.

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 
1. –°–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω–∞—Ç–∏ `POST /auth/login`
2. Postman –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î session cookie
3. –ù–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π cookie

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ - –ü—Ä–∞—Ü—é—î —è–∫ –∑–∞–¥—É–º–∞–Ω–æ (—Ñ—É–Ω–∫—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏)

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –û–±–º–µ–∂–µ–Ω–Ω—è Premium –∞–≤–∞—Ç–∞—Ä—ñ–≤
**–û–ø–∏—Å:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–µ–∑ premium –Ω–µ –º–æ–∂—É—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ premium –∞–≤–∞—Ç–∞—Ä–∏ —Ç–∏–ø—É "dragon".

**–ü–æ–º–∏–ª–∫–∞:**
```json
{
  "message": "–ê–≤–∞—Ç–∞—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π",
  "status": "error"
}
```

**–î–æ—Å—Ç—É–ø–Ω—ñ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –∞–≤–∞—Ç–∞—Ä–∏:**
- cat, dog, bunny, bear, koala, bee, penguin, frog, mushroom, star, cactus

**Premium –∞–≤–∞—Ç–∞—Ä–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞):**
- unicorn, dragon, koi, phoenix, crown, crystal, moon, butterfly

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞—Ü—é—î —è–∫ –∑–∞–¥—É–º–∞–Ω–æ (premium —Ñ—É–Ω–∫—Ü—ñ—è)

---

### –ü—Ä–æ–±–ª–µ–º–∞ #4: –ü–æ–≤—ñ–ª—å–Ω–∏–π endpoint —Å–ø–∏—Å–∫—É –∑–∞–º–æ–≤–ª–µ–Ω—å
**–û–ø–∏—Å:** `GET /api/orders` –∑–∞–π–º–∞—î 978–º—Å —Å–µ—Ä–µ–¥–Ω—î (—É 6 —Ä–∞–∑—ñ–≤ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –∑–∞ —ñ–Ω—à—ñ endpoints).

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ N+1 –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.

**–ü–æ—Ç–æ—á–Ω–∏–π –∫–æ–¥:**
```python
orders = Order.query.filter_by(user_id=user_id).all()
# –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è SQLAlchemy –≤–∏–∫–æ–Ω—É—î –æ–∫—Ä–µ–º–∏–π –∑–∞–ø–∏—Ç –¥–ª—è items
```

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
from sqlalchemy.orm import joinedload

orders = Order.query.options(
    joinedload(Order.items)
).filter_by(user_id=user_id).all()
```

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

---

## üìñ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Postman –∫–æ–ª–µ–∫—Ü—ñ—ó

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
1. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ `postman/DailyMood_API.postman_collection.json`
2. –ó–º—ñ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ:
   - `baseUrl`: http://localhost:5000
   - `authEmail`: tester@example.com
   - `authPassword`: test123

### –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```
1. POST /auth/login
   ‚îî‚îÄ> –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î session cookie
   
2. POST /api/journal (–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å –Ω–∞—Å—Ç—Ä–æ—é)
   ‚îî‚îÄ> –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –∑–º—ñ–Ω–Ω—É entryId
   
3. PUT /api/journal/{{entryId}} (–û–Ω–æ–≤–∏—Ç–∏)
   ‚îî‚îÄ> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–±–µ—Ä–µ–∂–µ–Ω—ñ entryId —Ç–∞ cookie
   
4. DELETE /api/journal/{{entryId}} (–í–∏–¥–∞–ª–∏—Ç–∏)
   ‚îî‚îÄ> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–±–µ—Ä–µ–∂–µ–Ω—ñ entryId —Ç–∞ cookie
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
| –ó–º—ñ–Ω–Ω–∞ | –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è |
|--------|--------------|------------------|
| `entryId` | Create Mood Entry | Update/Delete Journal Entry |
| `habitId` | Create Habit | Toggle/Delete Habit |
| `goalId` | Create Goal | Toggle/Delete Goal |
| `orderId` | Create Order | Get Order, Payments |

### –¢–µ—Å—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏
–ö–æ–ª–µ–∫—Ü—ñ—è –≤–∫–ª—é—á–∞—î test scripts –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ:
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è ID –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—ó –∫–æ–¥—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É –∫–æ–Ω—Å–æ–ª—å

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### –í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
1. **–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç Orders List** - –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ eager loading (978–º—Å ‚Üí ~150–º—Å –æ—á—ñ–∫—É—î—Ç—å—Å—è)
2. **–î–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é** - –û–±–º–µ–∂–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–æ 50 –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è list endpoints
3. **–Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** - –î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ –∫–ª—é—á—ñ:
   ```sql
   CREATE INDEX idx_orders_user_id ON orders(user_id);
   CREATE INDEX idx_mood_entries_user_id ON mood_entries(user_id);
   CREATE INDEX idx_habits_user_id ON habits(user_id);
   ```

### –°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
4. **–ö–µ—à—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** - –ö–µ—à—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ (products, avatars list)
5. **Connection Pooling** - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä –ø—É–ª—É SQLAlchemy –¥–ª—è –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
6. **Token-Based Auth** - –ó–∞–º—ñ–Ω–∏—Ç–∏ session cookies –Ω–∞ JWT –¥–ª—è –∫—Ä–∞—â–æ—ó –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ

### –ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
7. **CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤** - –†–æ–∑–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ CSS/JS/images
8. **–ú—ñ–≥—Ä–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** - –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ PostgreSQL –¥–ª—è production (–∫—Ä–∞—â–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ—Å—Ç—å)

---

## ‚úÖ –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏

### Endpoints –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ: 28/28 (100%)
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (1)
- ‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (4)
- ‚úÖ –ü–ª–∞—Ç–µ–∂—ñ (2)
- ‚úÖ –í—ñ–¥–≥—É–∫–∏ (2)
- ‚úÖ –©–æ–¥–µ–Ω–Ω–∏–∫/–ù–∞—Å—Ç—Ä—ñ–π (6)
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç–∞ –∞–≤–∞—Ç–∞—Ä–∏ (3)
- ‚úÖ –ó–≤–∏—á–∫–∏ (4)
- ‚úÖ –¶—ñ–ª—ñ (4)
- ‚úÖ –ó–¥–æ—Ä–æ–≤'—è —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (2)

### –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –û–¥–Ω–æ—á–∞—Å–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (30 VUs)
- ‚úÖ –í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (64K+ –∑–∞–ø–∏—Ç—ñ–≤)

---

## üìù –í–∏—Å–Ω–æ–≤–æ–∫

DailyMood API –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î **–≤—ñ–¥–º—ñ–Ω–Ω—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å** –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º:
- **99.24% —É—Å–ø—ñ—à–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤** –∑ 30 –æ–¥–Ω–æ—á–∞—Å–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- **–®–≤–∏–¥–∫—ñ —á–∞—Å–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** (162–º—Å —Å–µ—Ä–µ–¥–Ω—î)
- **–°—Ç–∞–±—ñ–ª—å–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å** (~106 req/s)
- –î–æ–±—Ä–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

**–û—Å–Ω–æ–≤–Ω–µ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:** –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç —Å–ø–∏—Å–∫—É –∑–∞–º–æ–≤–ª–µ–Ω—å –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —ñ–Ω—à–∏—Ö endpoints.

–í—Å—è –∫—Ä–∏—Ç–∏—á–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞ —Ç–∞ –≤–∞–ª—ñ–¥–æ–≤–∞–Ω–∞. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ production –∑ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–º–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è–º–∏.
