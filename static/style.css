/* ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ– ÑÑ‚Ð¸Ð»Ñ– DailyMood */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
/* @import url('new_styles.css');  -- commented out because file not present */

/* Ð¡Ñ‚Ð¸Ð»Ñ– Ð¿ÐµÑ€ÐµÐ¼Ð¸ÐºÐ°Ñ‡Ð° Ñ‚ÐµÐ¼Ð¸ (Ð°Ð½Ñ–Ð¼Ð°Ñ†Ñ–Ñ Uiverse.io) - Ð½Ðµ Ð·Ð¼Ñ–Ð½ÑŽÐ¹Ñ‚Ðµ Ñ†Ñ– ÑÐµÐ»ÐµÐºÑ‚Ð¾Ñ€Ð¸ */
#theme-toggle-button {
  font-size: 17px;
  position: relative;
  display: inline-block;
  width: 7em;
  cursor: pointer;
}

/* ÐÐ°ÐºÐ»Ð°Ð´Ð°Ñ”Ð¼Ð¾ input Ð¿Ð¾Ð²ÐµÑ€Ñ… svg Ð´Ð»Ñ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ– ÐºÐ»Ñ–ÐºÑƒ */
#theme-toggle-button input#toggle {
  opacity: 0;
  position: absolute;
  left: 0;
  top: 0;
  width: 56px;  /* matches the SVG width attribute */
  height: 28px; /* matches the SVG height attribute */
  margin: 0;
  cursor: pointer;
  z-index: 2;
}

/* Keep the original animation selectors to preserve Uiverse behavior */
#container,
#patches,
#stars,
#button,
#sun,
#moon,
#cloud {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 0.25s;
}
#toggle:checked + svg #container { fill: #2b4360; }
#toggle:checked + svg #button { transform: translate(28px, 2.333px); }
#sun { opacity: 1; }
#toggle:checked + svg #sun { opacity: 0; }
#moon { opacity: 0; }
#toggle:checked + svg #moon { opacity: 1; }
#cloud { opacity: 1; }
#toggle:checked + svg #cloud { opacity: 0; }
#stars { opacity: 0; }
#toggle:checked + svg #stars { opacity: 1; }

/* Small helpers and fallbacks for the rest of the page */
/* Prefer using html background so entire viewport changes with theme */
html {
  /* light gradient background by default */
  background: linear-gradient(135deg,#eef2ff,#fff7ed);
  transition: background-color 0.35s ease, background 0.35s ease;
  color: #0f172a;
}

html.dark {
  /* dark gradient background when html has .dark */
  background: linear-gradient(135deg,#071126,#0b1220);
  transition: background-color 0.35s ease, background 0.35s ease;
  color: #e6eef8;
}

/* Body-level helper classes used by JS for immediate styling */
/* body-level helper classes retained for compatibility with older scripts */
body.dark-mode {
  background-color: transparent; /* let html background show through */
  color: #e6eef8;
}
body.light-mode {
  background-color: transparent;
  color: #0f172a;
}

/* Ensure body is transparent so html background fills viewport */
/* Force body to be transparent so the html background (light/dark) shows through.
   Use !important to override Tailwind utility classes applied on the body element. */
body {
  background: transparent !important;
  background-image: none !important;
  transition: background 0.35s ease, color 0.25s ease;
  /* keep content centered horizontally but allow header to stay at top */
  display: flex;
  justify-content: center;
  align-items: flex-start; /* header will sit at the top */
  min-height: 100vh;
  padding: 8px 0 40px 0; /* small top padding so sticky header isn't flush to viewport edge */
}

/* Also defensively clear any utility-generated backgrounds by matching common Tailwind bg-* on body */
body[class*="bg-"] {
  background: transparent !important;
  background-image: none !important;
}

/* Focus ring when keyboard-focusing the toggle */
#theme-toggle-button input:focus + svg { outline: 2px solid rgba(99,102,241,0.25); border-radius: 6px; }

/* Floating toggle wrapper/label (used for the top-right floating button) */
#theme-toggle-float { display:inline-block; position:relative; }
#theme-toggle-float input#toggle { position:absolute; left:0; top:0; width:48px; height:24px; opacity:0; cursor:pointer; z-index:3; }
#theme-float-wrapper svg { filter: drop-shadow(0 6px 16px rgba(2,6,23,0.08)); border-radius:6px; }

/* Optional: ensure page elements inherit the body text color if not using Tailwind classes */
body.dark-mode * { color: inherit; }
body.light-mode * { color: inherit; }

/* Buttons: stronger contrast and interactions for visibility */
.btn {
  --btn-accent: #6366f1; /* indigo-500 */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  color: white;
  background: linear-gradient(180deg, var(--btn-accent), #4f46e5);
  box-shadow: 0 10px 30px rgba(79,70,229,0.12);
  border: 1px solid rgba(255,255,255,0.06);
  transition: transform 180ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease, opacity 180ms ease;
}
.btn:hover { transform: translateY(-3px); box-shadow: 0 14px 36px rgba(79,70,229,0.14); }
.btn:active { transform: translateY(0); box-shadow: 0 8px 20px rgba(79,70,229,0.10); }
.btn:focus { outline: 3px solid rgba(99,102,241,0.14); outline-offset: 2px; }

.btn.secondary {
  background: transparent;
  color: var(--btn-accent);
  border: 1px solid rgba(99,102,241,0.14);
  box-shadow: none;
}
.btn.secondary:hover { background: rgba(99,102,241,0.06); transform: translateY(-2px); }

/* Make small buttons slightly larger on dark theme for contrast */
html.dark .btn { box-shadow: 0 10px 30px rgba(139,92,246,0.08); }
html.dark .btn.secondary { border-color: rgba(139,92,246,0.14); }

/* Quote enter/exit animations used by JS */
.fade-enter { opacity: 0; transform: translateY(8px); }
.fade-enter-active { transition: opacity 0.35s ease, transform 0.35s cubic-bezier(0.2,0.9,0.2,1); opacity: 1; transform: translateY(0); }
.fade-exit { opacity: 1; transform: translateY(0); }
.fade-exit-active { transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.2,0.9,0.2,1); opacity: 0; transform: translateY(-8px); }

/* Improve visibility of the 'muted' hint line in darker backgrounds */
.muted { background: rgba(0,0,0,0.02); padding: 8px 12px; border-radius: 8px; }
html.dark .muted { background: rgba(255,255,255,0.02); }

/* Container: center the main application area */
.container {
  max-width: 980px; /* limit content width */
  margin-left: auto;
  margin-right: auto;
  padding: 28px 20px;
  box-sizing: border-box;
}

/* Ensure header and main content align within the centered container */
.container header, .container main, .container footer { width: 100%; }

/* Layout for main content: start below header rather than vertically centering */
.container main {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* keep content starting below header */
  min-height: calc(100vh - 120px); /* leave space for header + footer/padding */
}

/* Card typography and glow */
.card {
  position: relative;
  z-index: 50;
  overflow: visible !important;
}
.card {
  width: 100%;
  max-width: 760px;
  background: linear-gradient(180deg, rgba(99,102,241,0.04), rgba(2,6,23,0.02));
  border-radius: 14px;
  padding: 26px;
  min-height: 140px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: var(--text);
  box-shadow:
    0 30px 60px rgba(2,6,23,0.6),
    0 18px 60px rgba(56,189,248,0.06),
    0 0 140px rgba(99,102,241,0.08),
    inset 0 1px 0 rgba(255,255,255,0.02);
}

/* Theme-aware panel helper used by About page and any other informational panels */
.theme-panel {
  display: block;
  max-width: 820px;
  text-align: left;
  padding: 32px;
  box-sizing: border-box;
  background: linear-gradient(180deg, rgba(99,102,241,0.03), rgba(2,6,23,0.01));
  box-shadow:
    0 25px 50px rgba(2,6,23,0.5),
    0 15px 50px rgba(56,189,248,0.04),
    0 0 120px rgba(99,102,241,0.06),
    inset 0 1px 0 rgba(255,255,255,0.02);
}
.theme-panel h1, .theme-panel h2, .theme-panel h3, .theme-panel p { color: inherit; }

/* Aurora-style animated glow: two layered pseudo-elements */
.card::before,
.card::after {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 180%;
  height: 140%;
  pointer-events: none;
  z-index: -3;
  filter: blur(75px) contrast(140%);
  opacity: 0.8;
  mix-blend-mode: screen;
  transition: all 0.3s ease;
}

.card::before {
  background: radial-gradient(closest-side, rgba(56,189,248,0.42), rgba(96,165,250,0.36) 26%, rgba(99,102,241,0.18) 48%, rgba(99,102,241,0) 72%);
  /* slightly faster and with a gentle 'breathing' pulse */
  animation: aurora-shift-1 8.5s linear infinite;
}

.card::after {
  background: radial-gradient(closest-side, rgba(14,165,233,0.36), rgba(99,102,241,0.30) 34%, rgba(139,92,246,0.16) 58%, rgba(99,102,241,0) 80%);
  transform: translate(-52%, -48%) rotate(6deg);
  /* slightly faster and with a gentle 'breathing' pulse */
  animation: aurora-shift-2 10.5s linear infinite;
  mix-blend-mode: screen;
}

@keyframes aurora-shift-1 {
  0% { transform: translate(-50%, -50%) scale(0.995) rotate(0deg); opacity: 0.9; }
  25% { transform: translate(-48.5%, -52.5%) scale(1.05) rotate(1deg); opacity: 0.98; }
  50% { transform: translate(-46%, -54%) scale(1.12) rotate(2deg); opacity: 1; }
  75% { transform: translate(-54%, -46%) scale(1.06) rotate(-1deg); opacity: 0.96; }
  100% { transform: translate(-50%, -50%) scale(0.995) rotate(0deg); opacity: 0.9; }
}

@keyframes aurora-shift-2 {
  0% { transform: translate(-52%, -48%) scale(0.995) rotate(6deg); opacity: 0.85; }
  30% { transform: translate(-54%, -46%) scale(1.06) rotate(4deg); opacity: 0.95; }
  60% { transform: translate(-56%, -44%) scale(1.14) rotate(1deg); opacity: 1; }
  90% { transform: translate(-48%, -52%) scale(1.04) rotate(5deg); opacity: 0.92; }
  100% { transform: translate(-52%, -48%) scale(0.995) rotate(6deg); opacity: 0.85; }
}

.quote-inner {
  font-size: 1.18rem; /* slightly larger */
  font-weight: 600; /* bolder */
  line-height: 1.7;
  max-width: 88%;
}

/* Layout for the quote area on the homepage */
.quote-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  margin-top: 36px;
  width: 100%;
}

/* Stabilize quote card height so layout doesn't jump when quote length changes */
.quote-wrap .card {
  /* Strongly enforce fixed height to prevent layout jumps caused by variable quote lengths */
  box-sizing: border-box !important;
  height: 220px !important; /* larger default to show 3-4 lines */
  max-height: 220px !important;
  min-height: 220px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  overflow: hidden !important; /* force internal scrolling instead of expanding card */
  transition: none !important; /* disable accidental height transitions */
}
.quote-inner {
  width: 100%;
  height: 100%;
  padding: 12px 20px;
  box-sizing: border-box !important;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}
.quote-inner p, #quoteText {
  margin: 0;
  max-width: 72ch;
  word-break: break-word;
  overflow-wrap: anywhere;
  /* Force the text block to fit inside the card and scroll if needed */
  max-height: calc(100% - 0px) !important;
  overflow-y: auto !important;
  padding-right: 6px; /* space for potential scrollbar */
}

.brand { 
  font-weight: 800;
  font-size: 1.3rem;
  text-decoration: none;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  transition: all 0.3s ease;
}

/* Warm colors for light theme */
html:not(.dark) .brand {
  background-image: linear-gradient(90deg, #ff6b6b, #ffd93d);
  text-shadow: 0 2px 15px rgba(255,107,107,0.2);
}

/* Cold colors for dark theme */
html.dark .brand {
  background-image: linear-gradient(90deg, #4facfe, #00f2fe);
  text-shadow: 0 2px 15px rgba(79,172,254,0.2);
}

.brand::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 100%;
  height: 2px;
  border-radius: 1px;
  transform: scaleX(0);
  transition: transform 0.3s ease;
}

html:not(.dark) .brand::after {
  background: linear-gradient(90deg, #ff6b6b, #ffd93d);
}

html.dark .brand::after {
  background: linear-gradient(90deg, #4facfe, #00f2fe);
}

.brand:hover::after {
  transform: scaleX(1);
}

.subtitle { 
  font-size: 0.92rem;
  margin-top: 4px;
  font-weight: 500;
  letter-spacing: 0.3px;
  position: relative;
  transition: all 0.3s ease;
}

html:not(.dark) .subtitle {
  color: #ff6b6b;
  opacity: 0.8;
}

html.dark .subtitle {
  color: #4facfe;
  opacity: 0.8;
}

/* Apply a subtle glow effect on hover */
.brand-wrap:hover .subtitle {
  opacity: 1;
  transform: translateY(-1px);
}

.brand-wrap:hover .subtitle::before {
  opacity: 0.1;
  transform: scaleX(1);
}

.subtitle::before {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 100%;
  height: 4px;
  border-radius: 2px;
  transform: scaleX(0.3);
  opacity: 0;
  transition: all 0.3s ease;
}

html:not(.dark) .subtitle::before {
  background: linear-gradient(90deg, #ff6b6b, #ffd93d);
}

html.dark .subtitle::before {
  background: linear-gradient(90deg, #4facfe, #00f2fe);
}

.brand-wrap {
  position: relative;
  padding: 4px 8px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

.btn { font-weight: 700; }

/* Header / Navigation styles */
.site-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 10px 8px; /* slightly tighter header */
  border-bottom: none; /* reduce visual bulk */
  background: transparent; /* let page background show through for a cleaner header */
}
.brand-wrap { display: flex; flex-direction: column; flex: 0 0 auto; }
.brand { font-weight: 700; font-size: 1.05rem; color: var(--accent); text-decoration: none; }
.subtitle { font-size: 0.85rem; color: var(--muted); margin-top: 2px; }

/* Center the main navigation while preserving space for brand and controls */
.site-nav {
  display: flex;
  gap: 14px;
  justify-content: center; /* center links in the available middle space */
  align-items: center;
  flex: 1 1 auto; /* take remaining space between brand and controls */
  flex-wrap: wrap;
}

/* Ensure header controls stay compact on the right */
.header-controls { display: flex; align-items: center; gap: 8px; flex: 0 0 auto; }

/* Nav item appearance tweak for better centering/spacing */
.site-nav .nav-item {
  display: inline-block;
  padding: 10px 14px;
  border-radius: 8px;
  text-decoration: none;
  color: inherit;
  font-size: 1.05rem; /* slightly larger */
  font-weight: 600; /* bolder */
}

/* Active nav indicator */
.site-nav .nav-item.nav-active {
  position: relative;
  color: #fff;
}
/* hide per-item pseudo underline - using the single animated underline instead */
.site-nav .nav-item.nav-active::after { display: none; }

/* Animated moving underline (absolute element inside nav) */
#nav-underline {
  position: absolute;
  height: 3px;
  width: 48px;
  left: 50%;
  transform: translateX(-50%);
  bottom: -8px;
  border-radius: 3px;
  background: linear-gradient(90deg,#60a5fa,#7c3aed);
  box-shadow: 0 6px 26px rgba(99,102,241,0.18);
  /* smoother, slightly slower animation for a gentler slide */
  transition: left 420ms cubic-bezier(.22,.9,.3,1), width 420ms cubic-bezier(.22,.9,.3,1), transform 420ms cubic-bezier(.22,.9,.3,1), opacity 260ms ease;
  pointer-events: none;
  opacity: 0.98;
}

/* Ensure nav container is positioned relatively so underline can be placed inside */
.site-nav { position: relative; }

/* Make header background more contrasted in light theme so nav doesn't blend */
html:not(.dark) .site-header { background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.98)); border-bottom: 1px solid rgba(2,6,23,0.06); }
html:not(.dark) .site-nav .nav-item { color: #0b1220; }
html:not(.dark) .brand { -webkit-text-fill-color: transparent; }

/* Stack header elements on narrow viewports so nothing overlaps */
@media (max-width: 720px) {
  .site-header { flex-direction: column; align-items: flex-start; gap: 10px; }
  .site-nav { justify-content: flex-start; }
}

/* Navigation styles moved to new_styles.css */

.header-controls { display: flex; align-items: center; gap: 12px; }
.header-controls label { position: relative; }

/* Ð¡Ñ‚Ð¸Ð»Ñ– Ð´Ð»Ñ ÑÐµÐ»ÐµÐºÑ‚Ð¾Ñ€Ð° Ð¼Ð¾Ð²Ð¸ */
.lang-select {
    position: relative;
    padding: 8px 32px 8px 36px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.92rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid transparent;
    background: linear-gradient(to right, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    color: inherit;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    outline: none;
}

.lang-select::before {
    content: '';
    position: absolute;
    top: 50%;
    right: 12px;
    width: 8px;
    height: 8px;
    border-right: 2px solid currentColor;
    border-bottom: 2px solid currentColor;
    transform: translateY(-70%) rotate(45deg);
    transition: transform 0.3s ease;
    opacity: 0.7;
}

.lang-select:hover {
    transform: translateY(-1px);
    background: linear-gradient(to right, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
    border-color: rgba(255,255,255,0.1);
    box-shadow: 
        0 4px 12px rgba(0,0,0,0.1),
        0 0 0 2px rgba(255,255,255,0.05);
}

.lang-select:focus {
    border-color: rgba(99,102,241,0.5);
    box-shadow: 
        0 4px 16px rgba(99,102,241,0.15),
        0 0 0 2px rgba(99,102,241,0.1);
}

/* ÐÐ½Ñ–Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¸ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ‚Ñ– ÑÐµÐ»ÐµÐºÑ‚Ð° */
.lang-select:focus::before {
    transform: translateY(-30%) rotate(-135deg);
}

/* Ð¡Ð²Ñ–Ñ‚Ð»Ð° Ñ‚ÐµÐ¼Ð° */
html:not(.dark) .lang-select {
    background: linear-gradient(to right, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
    box-shadow: 
        0 2px 4px rgba(0,0,0,0.04),
        0 0 0 1px rgba(0,0,0,0.02);
}

html:not(.dark) .lang-select:hover {
    background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
    box-shadow: 
        0 4px 12px rgba(0,0,0,0.08),
        0 0 0 2px rgba(99,102,241,0.08);
}

/* Ð¢ÐµÐ¼Ð½Ð° Ñ‚ÐµÐ¼Ð° */
html.dark .lang-select {
    background: linear-gradient(to right, rgba(2,6,23,0.7), rgba(2,6,23,0.6));
    box-shadow: 
        0 2px 4px rgba(0,0,0,0.2),
        0 0 0 1px rgba(255,255,255,0.05);
}

html.dark .lang-select:hover {
    background: linear-gradient(to right, rgba(2,6,23,0.8), rgba(2,6,23,0.7));
    box-shadow: 
        0 4px 12px rgba(0,0,0,0.3),
        0 0 0 2px rgba(99,102,241,0.15);
}

/* Ð¡Ñ‚Ð¸Ð»Ñ– Ð´Ð»Ñ Ð¾Ð¿Ñ†Ñ–Ð¹ Ð² ÑÐµÐ»ÐµÐºÑ‚Ð¾Ñ€Ñ– */
.lang-select option {
    background: #fff;
    color: #000;
    padding: 8px;
    font-weight: 500;
}

html.dark .lang-select option {
    background: #1a1a1a;
    color: #fff;
}

/* ÐÐ½Ñ–Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€Ñ†Ñ–Ð² */
.lang-select option[value="uk"]::before {
    content: 'ðŸ‡ºðŸ‡¦';
    margin-right: 8px;
    font-size: 1.1em;
    display: inline-block;
    transform-origin: center;
    animation: wave 2s infinite;
}

.lang-select option[value="en"]::before {
    content: 'ðŸ‡¬ðŸ‡§';
    margin-right: 8px;
    font-size: 1.1em;
    display: inline-block;
    transform-origin: center;
    animation: wave 2s infinite;
    animation-delay: 0.1s;
}

@keyframes wave {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
}

/* ÐÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ ÑÑ‚Ð°Ð½ */
.lang-select:active {
    transform: translateY(1px);
    transition-duration: 0.1s;
}

/* Ð•Ñ„ÐµÐºÑ‚ Ð¿ÑƒÐ»ÑŒÑÐ°Ñ†Ñ–Ñ— Ð¿Ñ€Ð¸ Ð·Ð¼Ñ–Ð½Ñ– Ð¼Ð¾Ð²Ð¸ */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.lang-select.changing {
    animation: pulse 0.3s ease-in-out;
}

/* Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ Ñ–ÐºÐ¾Ð½ÐºÐ¸ Ð¼Ð¾Ð² Ð¿ÐµÑ€ÐµÐ´ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼ */
.lang-select::after {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.1em;
}

.lang-select[value="uk"]::after {
    content: 'ðŸ‡ºðŸ‡¦';
}

.lang-select[value="en"]::after {
    content: 'ðŸ‡¬ðŸ‡§';
}

/* Theme-specific aurora colors */
/* Cold aurora for dark theme */
html.dark .card {
  /* ensure card blocks glow by using an opaque background and a strong shadow */
  background: rgba(7,17,34,1);
  box-shadow:
    0 40px 120px rgba(0,8,20,0.9),
    0 36px 180px rgba(56,189,248,0.22),
    0 0 320px rgba(99,102,241,0.28),
    inset 0 1px 0 rgba(255,255,255,0.02);
}
html.dark .card::before {
  background: radial-gradient(closest-side, rgba(56,189,248,0.46), rgba(96,165,250,0.36) 28%, rgba(99,102,241,0.18) 50%, rgba(99,102,241,0) 72%);
  filter: blur(70px) contrast(160%);
  opacity: 1;
}
html.dark .card::after {
  background: radial-gradient(closest-side, rgba(14,165,233,0.40), rgba(99,102,241,0.32) 36%, rgba(139,92,246,0.18) 60%, rgba(99,102,241,0) 80%);
  filter: blur(72px) contrast(160%);
  opacity: 1;
}

/* Warm aurora for light theme */
html:not(.dark) .card {
  /* light theme: use warm opaque card background so glow doesn't wash content */
  background: rgba(255,250,240,1);
  box-shadow:
    0 40px 120px rgba(12,10,8,0.08),
    0 36px 160px rgba(255,160,64,0.22),
    0 0 260px rgba(255,200,80,0.18),
    inset 0 1px 0 rgba(255,255,255,0.02);
}
html:not(.dark) .card::before {
  background: radial-gradient(closest-side, rgba(255,160,64,0.44), rgba(255,200,80,0.36) 28%, rgba(255,140,50,0.16) 50%, rgba(255,140,50,0) 72%);
  filter: blur(70px) contrast(135%);
  opacity: 0.95;
}
html:not(.dark) .card::after {
  background: radial-gradient(closest-side, rgba(255,120,40,0.36), rgba(255,200,80,0.28) 36%, rgba(255,90,60,0.12) 60%, rgba(255,200,80,0) 80%);
  filter: blur(72px) contrast(135%);
  opacity: 0.92;
}

/* Fallback outer glow for environments where pseudo-element blending is weak */
.card { box-shadow: 0 40px 120px rgba(2,6,23,0.72), 0 0 120px rgba(99,102,241,0.08); }

/* Ensure theme-panel explicitly follows the card theme and overrides any Tailwind dark: utility applied inline in templates */
.theme-panel {
  background: inherit !important; /* inherit from .card rules above */
  box-shadow: inherit !important;
  color: inherit !important;
}

/* Explicitly tune text colors inside the theme-panel for both themes to avoid utility overrides */
html.dark .theme-panel h1, html.dark .theme-panel h2, html.dark .theme-panel h3, html.dark .theme-panel p {
  color: #e6eef8 !important;
}
html:not(.dark) .theme-panel h1, html:not(.dark) .theme-panel h2, html:not(.dark) .theme-panel h3, html:not(.dark) .theme-panel p {
  color: #0f172a !important;
}

/* Favorites list layout: keep actions to the right on wide screens, wrap below on small screens */
.fav-item { padding: 14px; }
.fav-row { display: flex; gap: 16px; align-items: center; }
.fav-text { flex: 1; }
.fav-quote { font-weight: 700; }
.fav-actions { display: flex; flex-direction: column; gap: 8px; margin-left: 12px; align-items: flex-end; }

@media (max-width: 880px) {
  .fav-row { flex-direction: column; align-items: stretch; }
  .fav-actions { flex-direction: row; justify-content: flex-end; gap: 10px; margin-left: 0; margin-top: 8px; }
}

/* prevent actions from visually escaping the card due to shadows or transforms */
.fav-item { overflow: hidden; position: relative; }
.fav-actions button { white-space: nowrap; }

/* On wide screens make action buttons stacked but equal width for visual balance */
@media (min-width: 881px) {
  /* Keep actions inline on wide screens as well to avoid protruding buttons */
  .fav-actions { flex-direction: row; min-width: 0; align-items: center; }
  /* Let buttons size naturally; heart-button has its own fixed size */
  .fav-actions button { width: auto; height: 40px; }
}

/* Make panel-level action buttons centered and toned down in glow */
.panel-actions { display:flex; gap:10px; justify-content:center; margin-top:18px; position: relative; z-index: 260; }
.panel-actions { padding: 6px; border-radius: 28px; }
.panel-actions .btn { padding: 8px 12px; border-radius: 10px; }

/* Compact opaque pill behind the panel buttons to block aurora glow while preserving button colors */
.panel-actions::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: calc(100% + 40px);
  height: calc(100% + 12px);
  border-radius: 32px;
  z-index: -1; /* sits behind the buttons */
  pointer-events: none;
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.03);
}
html.dark .panel-actions::before {
  background: rgba(2,6,23,0.66);
  border: 1px solid rgba(255,255,255,0.03);
}
html:not(.dark) .panel-actions::before {
  background: rgba(255,255,255,0.88);
  border: 1px solid rgba(2,6,23,0.04);
}

@media (max-width: 520px) {
  .panel-actions { padding: 4px; }
  .panel-actions::before { display: none; }
}

/* Add a compact oval backdrop behind the inline controls (New Quote / Copy / Save)
   to prevent aurora glow from washing out the buttons while preserving their colors. */
.controls { 
  position: relative; 
  z-index: 180; 
  padding: 6px; 
  border-radius: 28px;
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-top: 16px;
  align-items: center;
}
.controls::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: calc(100% + 28px);
  height: calc(100% + 12px);
  border-radius: 28px;
  z-index: -1;
  pointer-events: none;
  background: rgba(255,255,255,0.03);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.02);
}
html.dark .controls::before { 
  background: rgba(2,6,23,0.5); 
  border: 1px solid rgba(255,255,255,0.02); 
}
html:not(.dark) .controls::before { 
  background: rgba(255,255,255,0.88); 
  border: 1px solid rgba(2,6,23,0.04); 
}
.controls .btn {
  min-width: 100px;
  text-align: center;
  padding: 8px 16px;
}
.controls .btn.secondary {
  opacity: 0.9;
}

@media (max-width: 520px) {
  .controls::before { display: none; }
  .controls { 
    flex-wrap: wrap;
    gap: 6px;
  }
  .controls .btn {
    min-width: auto;
    flex: 1;
  }
}

/* Tone down button shadows inside theme-panel to avoid over-bright look */
.theme-panel .btn { box-shadow: 0 6px 12px rgba(79,70,229,0.06); }
.theme-panel .btn.secondary { box-shadow: none; border: 1px solid rgba(255,255,255,0.04); opacity: 0.95; }

/* Make action buttons slightly smaller to avoid overflow visual */
.fav-actions button { padding: 6px 10px; font-size: 0.95rem; }

/* Strong overrides for Favorites page to ensure consistent layout and reduced glow.
  Buttons receive higher z-index and a subtle halo (pseudo-element) so they sit above
  the animated aurora and remain legible. Use !important sparingly to overcome cached CSS. */
.theme-panel .fav-actions { align-items: flex-end !important; z-index: 220 !important; }
.theme-panel .fav-actions button { width: 100px !important; height: 40px !important; padding: 6px 10px !important; box-shadow: 0 14px 36px rgba(59,36,139,0.22) !important; border: 1px solid rgba(255,255,255,0.12) !important; background: linear-gradient(180deg,#8b5cf6,#7c3aed) !important; color: #fff !important; position: relative !important; z-index: 230 !important; }
.theme-panel .fav-actions button::before { content: ''; position: absolute; left: -10px; right: -10px; top: -10px; bottom: -10px; border-radius: 12px; background: radial-gradient(circle at center, rgba(124,58,237,0.08), rgba(99,102,241,0) 45%); filter: blur(10px); z-index: 220; pointer-events: none; }
.theme-panel .fav-actions .btn.secondary { background: rgba(255,255,255,0.04) !important; color: rgba(255,255,255,0.98) !important; border: 1px solid rgba(255,255,255,0.08) !important; box-shadow: 0 8px 18px rgba(2,6,23,0.36) !important; }

/* Make the per-item delete button (in favorites) more prominent and red so it doesn't blend into light backgrounds */
.theme-panel .fav-actions button[data-remove-index] {
  background: linear-gradient(180deg, #ef4444, #f87171) !important;
  color: #fff !important;
  border: 1px solid rgba(0,0,0,0.06) !important;
  box-shadow: 0 12px 30px rgba(239,68,68,0.14) !important;
}
.theme-panel .fav-actions button[data-remove-index]:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(239,68,68,0.18) !important; }

/* Light theme explicit override for the delete button to ensure contrast */
html:not(.dark) .theme-panel .fav-actions button[data-remove-index] {
  background: linear-gradient(180deg,#ef4444,#f97373) !important;
  color: #041024 !important;
}
.panel-actions { justify-content: center !important; z-index: 220 !important; }
.panel-actions .btn { box-shadow: 0 14px 32px rgba(79,70,229,0.16) !important; opacity: 1 !important; position: relative !important; }
.panel-actions .btn::before { content: ''; position: absolute; left: -8px; right: -8px; top: -8px; bottom: -8px; border-radius: 12px; background: radial-gradient(circle at center, rgba(124,58,237,0.06), rgba(99,102,241,0) 40%); filter: blur(12px); z-index: 210; pointer-events: none; }

/* Opaque oval frames behind buttons to prevent aurora bleed-through. They are non-interactive
   and sized slightly larger than the buttons. Theme-aware: darker in dark mode, semi-white in light. */
/* Removed oval frames behind buttons per user request. */
.fav-actions::after, .panel-actions::before { display: none !important; }

/* Hover/focus states to improve affordance */
.theme-panel .fav-actions button:hover, .theme-panel .fav-actions button:focus { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(59,36,139,0.28) !important; }
.panel-actions .btn:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(59,36,139,0.18) !important; }
/* Reduce card shadow for theme-panel specifically so bottom buttons aren't washed out */
.theme-panel { box-shadow: 0 22px 56px rgba(2,6,23,0.55) !important; }

/* Ensure fav-item doesn't clip the button visually but still contains shadows */
.fav-item { overflow: visible !important; }

/* Keep actions inline and aligned to the right without escaping the card
  Avoid absolute positioning so buttons don't protrude outside the card. */
.fav-item { position: relative; }
.fav-actions { position: static; right: auto; top: auto; transform: none; display: flex; flex-direction: row; gap: 10px; align-items: center; }
.fav-actions button { display: inline-flex; margin: 0; }

/* Removal animation for favorite items */
.fav-item { transition: transform 260ms ease, opacity 260ms ease, height 260ms ease; }
.fav-item.fav-removing { opacity: 0; transform: translateX(12px) scale(0.98); height: 0; margin: 0; padding: 0; overflow: hidden; }

/* On small screens, revert to flow layout (actions below text) */
@media (max-width: 880px) {
  .fav-actions { position: static; transform: none; right: auto; top: auto; display: flex; gap: 10px; }
  .fav-actions button { margin-bottom: 0; }
}

/* Heart toggle button for favorites */
.heart-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 40px;
  border-radius: 8px;
  font-size: 18px;
  line-height: 1;
  background: transparent;
  color: rgba(255,255,255,0.7);
  border: 1px solid rgba(255,255,255,0.04);
  cursor: pointer;
  transition: transform 160ms ease, background 160ms ease, color 160ms ease;
}
.heart-btn:hover { transform: translateY(-2px); }
.heart-btn[aria-pressed="true"], .heart-btn.favorited {
  background: linear-gradient(90deg,#ff6b6b,#ff8a64);
  color: white;
  box-shadow: 0 10px 28px rgba(255,105,105,0.18);
  border-color: rgba(255,255,255,0.08);
}
.heart-btn:focus { outline: 3px solid rgba(255,107,107,0.18); }

/* On small screens keep heart small and inline with actions */
@media (max-width: 520px) {
  .heart-btn { width: 36px; height: 36px; font-size: 16px; }
}

/* Ensure heart button keeps circular/smaller shape even where .theme-panel forces large button sizes */
.theme-panel .fav-actions .heart-btn {
  width: 44px !important;
  height: 44px !important;
  padding: 0 !important;
  border-radius: 50% !important;
  font-size: 16px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Pop animation for feedback when favorited */
.heart-btn.favorited {
  animation: heart-pop 260ms cubic-bezier(.2,.9,.2,1);
}
@keyframes heart-pop {
  0% { transform: scale(0.92); }
  60% { transform: scale(1.12); }
  100% { transform: scale(1); }
}

/* Journal page styles: form layout, inputs, and entries list */
.journal-container {
  max-width: 980px;
  margin: 6px auto 40px auto;
  display: grid;
  grid-template-columns: 520px 1fr;
  gap: 28px;
  align-items: start;
}

.journal-container h1 { 
  grid-column: 1 / -1; 
  text-align: center; 
  margin-bottom: 24px;
  font-size: 2.2rem;
  font-weight: 800;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  padding-bottom: 15px;
  transition: all 0.3s ease;
}

/* Page banner used on section pages like Goals */
.page-banner {
  width: 100%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 18px 0 26px 0;
}
.page-banner h1 {
  font-size: 2.2rem;
  font-weight: 800;
  margin: 0;
  padding: 8px 18px;
  border-radius: 10px;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: 0 8px 28px rgba(2,6,23,0.35);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
html.dark .page-banner h1 { background-image: linear-gradient(90deg,#4facfe,#00f2fe); text-shadow: 0 2px 12px rgba(79,172,254,0.18);} 
html:not(.dark) .page-banner h1 { background-image: linear-gradient(90deg,#ff6b6b,#ffd93d); text-shadow: 0 2px 12px rgba(255,107,107,0.12);} 

/* Warm colors for light theme */
html:not(.dark) .journal-container h1 {
  background-image: linear-gradient(90deg, #ff6b6b, #ffd93d);
  text-shadow: 0 2px 15px rgba(255,107,107,0.2);
}

/* Cold colors for dark theme */
html.dark .journal-container h1 {
  background-image: linear-gradient(90deg, #4facfe, #00f2fe);
  text-shadow: 0 2px 15px rgba(79,172,254,0.2);
}

.journal-container h1::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 3px;
  border-radius: 2px;
  opacity: 0.7;
  transition: all 0.3s ease;
}

html:not(.dark) .journal-container h1::after {
  background: linear-gradient(90deg, #ff6b6b, #ffd93d);
}

html.dark .journal-container h1::after {
  background: linear-gradient(90deg, #4facfe, #00f2fe);
}

.new-entry, .entries-list {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border-radius: 16px;
  padding: 24px;
  position: relative;
  overflow: visible;
  transition: all 0.3s ease;
}

/* Goals page layout */
.goals-container { 
  max-width: 980px; 
  margin: 6px auto 40px auto; 
  padding: 20px; 
}
.goals-grid { 
  display: grid; 
  grid-template-columns: 1fr 1fr; 
  gap: 28px; 
  align-items: start; 
}
.goals-column { 
  background: rgba(255,255,255,0.02);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 15px 35px rgba(2,6,23,0.35),
              inset 0 1px 0 rgba(255,255,255,0.03);
}

.goals-column h2 {
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: rgba(255,255,255,0.95);
}

.habits-list { 
  display: flex; 
  flex-direction: column; 
  gap: 10px; 
}
.habit-item { 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  padding: 12px; 
  border-radius: 8px; 
  background: rgba(255,255,255,0.03); 
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.habit-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(2,6,23,0.2);
}
.habit-item { /* subtle entrance animation so items don't just 'pop' on white backgrounds */
  opacity: 0;
  transform: translateY(6px);
  animation: habit-appear 300ms cubic-bezier(.2,.9,.2,1) forwards;
}

@keyframes habit-appear {
  to { opacity: 1; transform: translateY(0); }
}

/* Improve contrast for habit items in light theme so they don't vanish on white backgrounds */
html:not(.dark) .habit-item {
  background: linear-gradient(180deg,#ffffff,#fbfbfb);
  color: #041024;
  box-shadow: 0 8px 24px rgba(4,16,36,0.06);
  border: 1px solid rgba(4,16,36,0.04);
}
html:not(.dark) .habit-name { color: #041024; }
html:not(.dark) .habit-checkbox input { filter: contrast(1.05); }

/* Make the habit delete button more visible on light backgrounds */
html:not(.dark) .habit-item .delete-btn {
  background: linear-gradient(180deg, rgba(239,68,68,0.08), rgba(239,68,68,0.04));
  color: #b91c1c;
  border: 1px solid rgba(239,68,68,0.10);
}
.habit-name { 
  flex: 1; 
  font-weight: 600;
  color: rgba(255,255,255,0.9);
}
.habit-checkbox input { 
  margin-right: 8px;
  transform: scale(1.1);
}
.delete-btn { 
  background: transparent; 
  border: none; 
  color: rgba(255,255,255,0.6); 
  font-size: 1.2rem; 
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  transition: background-color 0.2s ease;
}
.delete-btn:hover {
  background-color: rgba(255,255,255,0.05);
  color: rgba(255,255,255,0.8);
}

/* Link-like button and delete-entry design */
.btn-link {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  color: inherit;
  padding: 6px 10px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease, color 160ms ease;
}

.btn-link:focus { outline: 3px solid rgba(99,102,241,0.14); outline-offset: 2px; }

.btn-link.delete-entry {
  --danger: #ef4444;
  color: var(--danger);
  background: rgba(239,68,68,0.06);
  border: 1px solid rgba(239,68,68,0.12);
  box-shadow: 0 6px 20px rgba(239,68,68,0.06);
}

.btn-link.delete-entry::before { content: 'ðŸ—‘ï¸'; margin-right:6px; }

.btn-link.delete-entry:hover { transform: translateY(-2px); background: linear-gradient(180deg, rgba(239,68,68,0.10), rgba(239,68,68,0.06)); box-shadow: 0 12px 34px rgba(239,68,68,0.12); }

html.dark .btn-link.delete-entry { color: #fff; background: linear-gradient(180deg, rgba(239,68,68,0.14), rgba(239,68,68,0.08)); border:1px solid rgba(255,255,255,0.06); }

/* Design for inline link-style buttons and the journal delete button */
.btn-link {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  color: inherit;
  padding: 6px 10px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease, color 160ms ease;
}

.btn-link:focus {
  outline: 3px solid rgba(99,102,241,0.14);
  outline-offset: 2px;
}

/* Specific visual style for delete buttons used in the journal entries */
.btn-link.delete-entry {
  --danger: #ef4444; /* red-500 */
  color: var(--danger);
  background: rgba(239,68,68,0.06);
  border: 1px solid rgba(239,68,68,0.12);
  box-shadow: 0 6px 20px rgba(239,68,68,0.06);
  padding: 6px 10px;
}

.btn-link.delete-entry::before {
  content: 'ðŸ—‘ï¸';
  display: inline-block;
  margin-right: 6px;
  font-size: 1rem;
  line-height: 1;
}

.btn-link.delete-entry:hover {
  transform: translateY(-2px);
  background: linear-gradient(180deg, rgba(239,68,68,0.10), rgba(239,68,68,0.06));
  box-shadow: 0 12px 34px rgba(239,68,68,0.12);
}

/* Dark theme adjustments so the red stands out on dark backgrounds */
html.dark .btn-link.delete-entry {
  color: #fff;
  background: linear-gradient(180deg, rgba(239,68,68,0.14), rgba(239,68,68,0.08));
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 30px rgba(239,68,68,0.12);
}

html.dark .btn-link.delete-entry::before { filter: drop-shadow(0 2px 6px rgba(0,0,0,0.4)); }

/* Compact appearance on small screens */
@media (max-width: 520px) {
  .btn-link.delete-entry { padding: 6px 8px; font-size: 0.9rem; }
  .btn-link.delete-entry::before { margin-right: 4px; }
}

.add-form { 
  display: flex; 
  gap: 8px; 
  margin-top: 16px;
}
.add-form input[type="text"], 
.add-form input[type="date"], 
.add-form select { 
  flex: 1;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.03);
  color: inherit;
  font-size: 0.95rem;
}
.add-form button { 
  padding: 8px 16px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(180deg,#06b6d4,#0891b2);
  color: #041024;
  font-weight: 700;
  transition: transform 0.2s ease;
}
.add-form button:hover {
  transform: translateY(-1px);
}

@media (max-width: 768px) {
  .goals-grid {
    grid-template-columns: 1fr;
  }
  .goals-container {
    padding: 12px;
  }
}

/* Make the small goal/habit inputs stand out on the goals page */
.goals-column .add-form input[type="text"],
.goals-column .add-form input[type="date"],
.goals-column .add-form select {
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid rgba(2,6,23,0.06);
  box-sizing: border-box;
  font-weight: 600;
  transition: all 180ms ease;
}

/* Dark theme: use bright panels so inputs pop against the aurora */
html.dark .goals-column .add-form input[type="text"],
html.dark .goals-column .add-form input[type="date"],
html.dark .goals-column .add-form select {
  background: linear-gradient(180deg,#ffffff,#f3f6fb);
  color: #041024;
  box-shadow: 0 10px 28px rgba(2,6,23,0.55), inset 0 1px 0 rgba(255,255,255,0.6);
  border: 1px solid rgba(2,6,23,0.08);
}

/* Light theme: use a soft accent so fields also stand out but remain pleasant */
html:not(.dark) .goals-column .add-form input[type="text"],
html:not(.dark) .goals-column .add-form input[type="date"],
html:not(.dark) .goals-column .add-form select {
  background: linear-gradient(180deg,#e8f9fb,#dff3fa);
  color: #03202b;
  box-shadow: 0 6px 18px rgba(6,182,212,0.06), inset 0 1px 0 rgba(255,255,255,0.7);
  border: 1px solid rgba(6,182,212,0.12);
}

/* Placeholder and option contrast */
.goals-column .add-form ::-webkit-input-placeholder { color: rgba(4,16,36,0.45); }
.goals-column .add-form ::-moz-placeholder { color: rgba(4,16,36,0.45); }
.goals-column .add-form :-ms-input-placeholder { color: rgba(4,16,36,0.45); }
.goals-column .add-form ::placeholder { color: rgba(4,16,36,0.45); }

html.dark .goals-column .add-form ::-webkit-input-placeholder,
html.dark .goals-column .add-form ::placeholder { color: rgba(4,16,36,0.45); }

.goals-column .add-form select option {
  background: #ffffff;
  color: #041024;
}
html.dark .goals-column .add-form select option {
  background: #ffffff;
  color: #041024;
}

/* Focus states: glow and lift for clarity */
.goals-column .add-form input:focus,
.goals-column .add-form select:focus {
  outline: none;
  transform: translateY(-1px);
  box-shadow: 0 12px 36px rgba(99,102,241,0.12);
  border-color: rgba(99,102,241,0.6);
}

/* Make the date input's calendar icon more visible when background is white */
.goals-column .add-form input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(0%);
}

.progress-section { margin-top: 80px; }
.progress-calendar { display:flex; gap:20px; align-items:flex-start; flex-wrap:wrap; justify-content:center; }
.calendar-body { display:grid; grid-template-columns: repeat(auto-fit, minmax(44px, 1fr)); gap:8px; }
.calendar-day { min-width:44px; height:48px; display:flex; flex-direction:column; align-items:center; justify-content:center; background: rgba(255,255,255,0.02); border-radius:8px; padding:4px; }
.calendar-day .date { font-size:0.85rem; color: rgba(255,255,255,0.85); margin-bottom:6px; }
.progress-indicator { width:28px; height:10px; border-radius:6px; background: rgba(255,255,255,0.06); transition: all 180ms ease; }
.progress-indicator.completed { background: linear-gradient(90deg,#60a5fa,#38bdf8); box-shadow: 0 6px 20px rgba(56,189,248,0.12); transform: translateY(-2px); }

/* Small inline month navigation button */
.small-btn {
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: inherit;
  cursor: pointer;
  font-weight: 700;
}
.small-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(2,6,23,0.06); }

/* Empty day placeholders to align month calendars */
.calendar-day.empty { background: transparent; box-shadow: none; border: none; pointer-events: none; }

/* Goal marker inside calendar day */
.goal-markers { display:flex; gap:4px; margin-top:6px; justify-content:center; }
.goal-marker { font-size:0.95rem; line-height:1; display:inline-block; }

/* Make calendar elements more visible on light backgrounds */
html:not(.dark) .calendar-day { background: linear-gradient(180deg,#ffffff,#fbfbfb); border: 1px solid rgba(4,16,36,0.04); }
html:not(.dark) .calendar-day .date { color: #041024; }
html:not(.dark) .progress-indicator { background: rgba(2,6,23,0.04); }
html:not(.dark) .progress-indicator.completed { background: linear-gradient(90deg,#16a34a,#10b981); box-shadow: 0 8px 26px rgba(16,185,129,0.10); }

/* Hover and focus affordances */
.calendar-day:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(2,6,23,0.06); cursor: default; }
.calendar-day:focus { outline: 3px solid rgba(99,102,241,0.12); }

/* Mood-specific color classes for calendar days */
.calendar-day.mood-happy .progress-indicator { background: linear-gradient(90deg,#34d399,#10b981); box-shadow: 0 6px 18px rgba(16,185,129,0.12); }
.calendar-day.mood-neutral .progress-indicator { background: linear-gradient(90deg,#60a5fa,#3b82f6); box-shadow: 0 6px 18px rgba(59,130,246,0.12); }
.calendar-day.mood-sad .progress-indicator { background: linear-gradient(90deg,#f59e0b,#f97316); box-shadow: 0 6px 18px rgba(249,115,22,0.12); }

/* Tooltip styling for native title is limited; provide a simple accessible focus style */
.calendar-day .progress-indicator[title]:hover,
.calendar-day .progress-indicator[title]:focus {
  transform: translateY(-2px);
}

/* Ensure calendar header/body layout doesn't create an empty side-gap
   and remains responsive; header will wrap if narrow */
.progress-calendar > .calendar-header {
  flex: 0 0 auto;
  width: 100%;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  align-items: center;
}

/* Hide calendar header container when it's empty to avoid large empty gaps */
.progress-calendar > .calendar-header:empty { display: none !important; }
.progress-calendar > .calendar-body {
  flex: 1 1 auto;
  width: 100%;
}

@media (min-width: 900px) {
  .progress-calendar { flex-direction: column; }
  .progress-calendar > .calendar-body { width: 100%; }
}

.achievements-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:12px; }
.achievement { background: rgba(255,255,255,0.02); padding:12px; border-radius:10px; text-align:center; }
.achievement-icon { font-size:1.6rem; display:block; margin-bottom:6px; }

/* Light theme styles */
html:not(.dark) .new-entry, 
html:not(.dark) .entries-list {
  background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
  box-shadow: 
    0 15px 35px rgba(255,107,107,0.1),
    0 5px 15px rgba(255,217,61,0.05),
    inset 0 1px 0 rgba(255,255,255,0.6);
  border: 1px solid rgba(255,107,107,0.1);
}

/* Dark theme styles */
html.dark .new-entry, 
html.dark .entries-list {
  background: linear-gradient(180deg, rgba(15,23,42,0.6), rgba(15,23,42,0.4));
  box-shadow: 
    0 15px 35px rgba(79,172,254,0.15),
    0 5px 15px rgba(0,242,254,0.05),
    inset 0 1px 0 rgba(255,255,255,0.03);
  border: 1px solid rgba(79,172,254,0.1);
}

.new-entry::before, .entries-list::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 140%;
  height: 130%;
  z-index: -1;
  pointer-events: none;
  filter: blur(45px);
  transition: all 0.3s ease;
}

/* Warm glow for light theme */
html:not(.dark) .new-entry::before {
  background: radial-gradient(closest-side, 
    rgba(255,107,107,0.15),
    rgba(255,217,61,0.1) 40%, 
    transparent 80%
  );
  opacity: 0.4;
}

html:not(.dark) .entries-list::before {
  background: radial-gradient(closest-side, 
    rgba(255,217,61,0.15),
    rgba(255,107,107,0.1) 40%, 
    transparent 80%
  );
  opacity: 0.4;
}

/* Cool glow for dark theme */
html.dark .new-entry::before {
  background: radial-gradient(closest-side, 
    rgba(79,172,254,0.15),
    rgba(0,242,254,0.1) 40%, 
    transparent 80%
  );
  opacity: 0.3;
}

html.dark .entries-list::before {
  background: radial-gradient(closest-side, 
    rgba(0,242,254,0.15),
    rgba(79,172,254,0.1) 40%, 
    transparent 80%
  );
  opacity: 0.3;
}

/* Style section headers */
.new-entry h2, .entries-list h2 {
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 20px;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  transition: all 0.3s ease;
}

/* Warm colors for light theme */
html:not(.dark) .new-entry h2, 
html:not(.dark) .entries-list h2 {
  background-image: linear-gradient(90deg, #ff6b6b, #ffd93d);
  text-shadow: 0 2px 15px rgba(255,107,107,0.1);
}

/* Cold colors for dark theme */
html.dark .new-entry h2,
html.dark .entries-list h2 {
  background-image: linear-gradient(90deg, #4facfe, #00f2fe);
  text-shadow: 0 2px 15px rgba(79,172,254,0.1);
}

.new-entry h2::after, 
.entries-list h2::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 40px;
  height: 2px;
  border-radius: 1px;
  opacity: 0.7;
  transition: all 0.3s ease;
}

html:not(.dark) .new-entry h2::after,
html:not(.dark) .entries-list h2::after {
  background: linear-gradient(90deg, #ff6b6b, #ffd93d);
}

html.dark .new-entry h2::after,
html.dark .entries-list h2::after {
  background: linear-gradient(90deg, #4facfe, #00f2fe);
}

.journal-form { display: block; }
.journal-form .form-group { display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
.journal-form label { font-weight:600; font-size:0.95rem; }
.journal-form input[type="text"], .journal-form input[type="date"], .journal-form input[type="month"], .journal-form select, .journal-form textarea {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.08);
  box-sizing: border-box;
  background: rgba(255,255,255,0.03);
  color: inherit;
  font-size: 0.95rem;
  transition: all 0.18s ease;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  box-shadow: inset 0 1px 4px rgba(2,6,23,0.25);
}

/* Dark theme inputs: stronger contrast inside dark panel */
html.dark .journal-form input[type="text"],
html.dark .journal-form input[type="date"],
html.dark .journal-form input[type="month"],
html.dark .journal-form select,
html.dark .journal-form textarea {
  background: rgba(2,6,23,0.45);
  border-color: rgba(79,172,254,0.10);
  color: rgba(255,255,255,0.95);
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.6);
}

/* Light theme inputs: slightly warmer tint */
html:not(.dark) .journal-form input[type="text"],
html:not(.dark) .journal-form input[type="date"],
html:not(.dark) .journal-form input[type="month"],
html:not(.dark) .journal-form select,
html:not(.dark) .journal-form textarea {
  background: rgba(255,255,255,0.9);
  border-color: rgba(2,6,23,0.06);
  color: rgba(4,16,36,0.95);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.75);
}

/* Improve hover/focus affordances */
.journal-form input:hover, .journal-form select:hover, .journal-form textarea:hover {
  border-color: rgba(99,102,241,0.28);
}

.journal-form input:focus, .journal-form select:focus, .journal-form textarea:focus {
  outline: none;
  border-color: rgba(99,102,241,0.6);
  box-shadow: 0 0 0 4px rgba(99,102,241,0.12);
}

/* Placeholder colors */
.journal-form ::-webkit-input-placeholder { color: rgba(255,255,255,0.6); }
.journal-form ::-moz-placeholder { color: rgba(255,255,255,0.6); }
.journal-form :-ms-input-placeholder { color: rgba(255,255,255,0.6); }
.journal-form ::placeholder { color: rgba(255,255,255,0.6); }

html:not(.dark) .journal-form ::-webkit-input-placeholder,
html:not(.dark) .journal-form ::placeholder { color: rgba(4,16,36,0.45); }

/* Try to style native option list where supported */
.journal-form select option {
  background: rgba(255,255,255,0.98);
  color: #041024;
}
html.dark .journal-form select option {
  background: rgba(7,17,34,0.98);
  color: #e6eef8;
}
.journal-form textarea { resize: vertical; min-height: 110px; }

.activities-grid { display:flex; flex-wrap:wrap; gap:8px; }
.activity-item { display:inline-flex; align-items:center; gap:8px; padding:6px 8px; background: rgba(0,0,0,0.02); border-radius:8px; cursor:pointer; }
.activity-item input { margin:0; transform:translateY(1px); }

.btn-primary { display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; background: linear-gradient(180deg,#06b6d4,#0891b2); color:#041024; font-weight:700; border: none; cursor: pointer; }
.btn-primary:hover { transform: translateY(-2px); }

.entries-filter { display:flex; gap:10px; align-items:center; margin-bottom:12px; }
.journal-entries { display:flex; flex-direction:column; gap:12px; }

@media (max-width: 880px) {
  .journal-container { grid-template-columns: 1fr; padding: 6px; }
  .journal-container h1 { text-align: left; }
  .goals-grid { grid-template-columns: 1fr; }
  .achievements-grid { grid-template-columns: 1fr; }
}

/* Statistics page layout */
.statistics-container {
  max-width: 980px;
  margin: 12px auto 40px auto;
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

.statistics-container h1 { 
  text-align: center; 
  margin-bottom: 20px;
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(90deg, #60a5fa, #818cf8);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 15px rgba(96,165,250,0.3);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  align-items: stretch;
}

.stat-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
  padding: 18px;
  border-radius: 14px;
  box-shadow: 0 15px 35px rgba(2,6,23,0.35),
              inset 0 1px 0 rgba(255,255,255,0.05);
  position: relative;
  overflow: visible;
}

.stat-card::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 160%;
  height: 140%;
  background: radial-gradient(closest-side, rgba(56,189,248,0.15), rgba(96,165,250,0.1) 40%, transparent 80%);
  filter: blur(35px);
  opacity: 0.6;
  z-index: -1;
  pointer-events: none;
}

.stat-number { 
  font-size: 2rem; 
  font-weight: 800; 
  margin-top: 8px;
  background: linear-gradient(90deg, #60a5fa, #38bdf8);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 15px rgba(56,189,248,0.3);
}

.stat-text { 
  font-size: 1.1rem; 
  margin-top: 8px;
  font-weight: 600;
  color: rgba(255,255,255,0.9);
}

.quote-text {
  font-size: 1.1rem;
  margin-top: 12px;
  font-style: italic;
  line-height: 1.6;
  color: rgba(255,255,255,0.95);
  position: relative;
  padding: 0 8px;
}

.quote-text::before,
.quote-text::after {
  content: '"';
  position: absolute;
  font-size: 1.4rem;
  opacity: 0.6;
}

.quote-text::before {
  left: -4px;
}

.quote-text::after {
  right: -4px;
}

.quote-author {
  font-size: 0.95rem;
  margin-top: 8px;
  text-align: right;
  color: rgba(255,255,255,0.7);
}

html:not(.dark) .quote-text {
  color: rgba(4,16,36,0.95);
}

html:not(.dark) .quote-author {
  color: rgba(4,16,36,0.7);
}

.mood-charts { 
  display: grid; 
  grid-template-columns: 1fr 1fr; 
  gap: 24px; 
  margin-top: 20px;
}

.chart-container { 
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 20px 40px rgba(2,6,23,0.4),
              inset 0 1px 0 rgba(255,255,255,0.05);
  position: relative;
  overflow: visible;
}

.chart-container::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 140%;
  height: 130%;
  background: radial-gradient(closest-side, rgba(99,102,241,0.12), rgba(139,92,246,0.08) 40%, transparent 80%);
  filter: blur(40px);
  opacity: 0.6;
  z-index: -1;
  pointer-events: none;
}

.calendar-grid { 
  display: grid; 
  grid-template-columns: repeat(7, 1fr); 
  gap: 8px;
  padding: 15px;
  background: rgba(255,255,255,0.02);
  border-radius: 12px;
  margin-top: 10px;
}

.calendar-header { 
  font-weight: 700; 
  padding: 8px 10px;
  text-align: center;
  color: rgba(255,255,255,0.9);
  background: rgba(255,255,255,0.04);
  border-radius: 8px;
  text-transform: uppercase;
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

/* Adjust journal filters: make inputs align and not overflow */
.entries-filter input[type="month"], .entries-filter select#moodFilter {
  padding: 8px 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.08); background: rgba(255,255,255,0.04); color: inherit; box-shadow: inset 0 1px 4px rgba(2,6,23,0.15);
}
.entries-filter input[type="month"] { width: 220px; }
.entries-filter select#moodFilter { width: 180px; }

html.dark .entries-filter input[type="month"], html.dark .entries-filter select#moodFilter {
  background: rgba(2,6,23,0.45);
  border-color: rgba(79,172,254,0.10);
  color: rgba(255,255,255,0.92);
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.6);
}

/* Improve visible caret for selects */
.entries-filter select#moodFilter {
  background-image: linear-gradient(45deg, transparent 50%, rgba(0,0,0,0.25) 50%),
                    linear-gradient(135deg, rgba(0,0,0,0.25) 50%, transparent 50%);
  background-position: calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 44px;
}

/* Ensure native dropdown appears above glow */
.entries-filter select { z-index: 9999; }

@media (max-width: 880px) {
  .stats-grid { grid-template-columns: 1fr; }
  .mood-charts { grid-template-columns: 1fr; }
  .calendar-grid { grid-template-columns: repeat(4, 1fr); }
  .entries-filter input[type="month"] { width: 140px; }
  .entries-filter select#moodFilter { width: 120px; }
}

/* Ensure the select dropdown renders above surrounding panels and is styled consistently */
.entries-filter { position: relative; z-index: 120; }
.entries-filter select, .entries-filter input[type="month"] {
  -webkit-appearance: none; /* keep consistent look */
  -moz-appearance: none;
  appearance: none;
}

/* Give the select a visible caret and comfortable padding */
.entries-filter select {
  background-image: linear-gradient(45deg, transparent 50%, rgba(0,0,0,0.25) 50%),
                    linear-gradient(135deg, rgba(0,0,0,0.25) 50%, transparent 50%);
  background-position: calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 38px;
  color: inherit;
  border: 1px solid rgba(255,255,255,0.04);
  background-color: rgba(255,255,255,0.02);
  position: relative;
  z-index: 220; /* sit above nearby card shadows */
}

/* On focus, lift the select visually and ensure dropdown isn't clipped */
.entries-filter select:focus {
  outline: none;
  box-shadow: 0 8px 20px rgba(2,6,23,0.5);
  z-index: 9999; /* ensure native dropdown sits above everything */
}

/* Ensure entries list doesn't hide native dropdowns due to overflow */
.entries-list { overflow: visible; position: relative; z-index: 80; }

/* Journal entry item layout improvements */
.journal-entry { padding: 10px 12px; border-radius: 8px; background: rgba(0,0,0,0.02); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02); }
.journal-entry header { display:flex; justify-content:space-between; gap:10px; align-items:center; }
.journal-entry h3 { margin:0; font-size:1rem; }
.journal-entry time { color: var(--muted); font-size:0.9rem; }
.activities-list { margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; }
.activity-tag { padding:4px 8px; background: rgba(255,255,255,0.02); border-radius:6px; font-size:0.92rem; }

/* Small screens: keep filters stacked and entries full width */
@media (max-width: 520px) {
  .entries-filter { display:flex; flex-direction:column; gap:8px; }
  .entries-filter input[type="month"], .entries-filter select#moodFilter { width: 100%; }
}

/* High-contrast override: make buttons clearly visible over bright/dark auras.
   Apply this class to .theme-panel when you want maximum visibility. */
/* Emphasize only the bottom panel action buttons (Clear all / Back home) */
.panel-actions .btn.primary-emphasis { background: #ff8c42 !important; color: #041024 !important; box-shadow: 0 20px 48px rgba(255,140,66,0.18) !important; border: 1px solid rgba(4,16,36,0.06) !important; }
.panel-actions .btn.secondary-emphasis { background: rgba(255,255,255,0.06) !important; color: rgba(255,255,255,0.95) !important; border: 1px solid rgba(255,255,255,0.06) !important; box-shadow: 0 12px 30px rgba(0,0,0,0.12) !important; }