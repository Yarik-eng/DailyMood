# üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è DailyMood: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ 14/14 —Ç–µ—Å—Ç—ñ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç—å | **–ü–æ–∫—Ä–∏—Ç—Ç—è:** 43% | **Last Updated:** Dec 2025

---

## üìã –û–≥–ª—è–¥

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –º—ñ—Å—Ç–∏—Ç—å **14 –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤**:
- **5 Unit-—Ç–µ—Å—Ç—ñ–≤** ‚Äî —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- **9 Integration-—Ç–µ—Å—Ç—ñ–≤** ‚Äî —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤
- **–ü–æ–∫—Ä–∏—Ç—Ç—è:** test_api.py (100%), test_models.py (100%), –º–æ–¥–µ–ª—ñ (82%)

---

## üèÉ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏

### –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
```bash
py -m pytest tests/ -v
```

### –ó–∞–ø—É—Å–∫ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º (coverage)
```bash
py -m pytest tests/ --cov=. --cov-report=term-missing
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª—É
```bash
py -m pytest tests/test_models.py -v
py -m pytest tests/test_api.py -v
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç—É
```bash
py -m pytest tests/test_models.py::TestUserModel::test_check_password_correct -v
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É —Ç–µ—Å—Ç—ñ–≤
```bash
py -m pytest tests/test_api.py::TestAuthAPI -v
```

---

## üì¶ Unit –¢–µ—Å—Ç–∏ (test_models.py)

Unit —Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—è—é—Ç—å **–æ–∫—Ä–µ–º—ñ —Ñ—É–Ω–∫—Ü—ñ—ó** –±–µ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ API.

### TestUserModel (3 —Ç–µ—Å—Ç–∏)

#### 1Ô∏è‚É£ `test_set_password_hashes_password`
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø–∞—Ä–æ–ª—å —Ö–µ—à—É—î—Ç—å—Å—è (–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ø–ª–∞–π–Ω—ñ)
- –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø–∞—Ä–æ–ª—å
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—è—î–º–æ —â–æ `password_hash` –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—É

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** –ë–µ–∑–ø–µ–∫–∞! –ü–∞—Ä–æ–ª—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫.

#### 2Ô∏è‚É£ `test_check_password_correct`
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –ø–æ–≤–µ—Ä—Ç–∞—î True
- –ú–∞—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –ø–∞—Ä–æ–ª–µ–º 'password123'
- –ü–µ—Ä–µ–≤—ñ—è—î–º–æ –π–æ–≥–æ —á–µ—Ä–µ–∑ `check_password()`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç = True

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** –õ–æ–≥—ñ–Ω —Å–∏—Å—Ç–µ–º–∞ ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å, –≤—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

#### 3Ô∏è‚É£ `test_check_password_incorrect`
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –ø–æ–≤–µ—Ä—Ç–∞—î False
- –ú–∞—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –ø–∞—Ä–æ–ª–µ–º 'password123'
- –ü–µ—Ä–µ–≤—ñ—è—î–º–æ –π–æ–≥–æ –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –ø–∞—Ä–æ–ª–µ–º
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç = False

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** –ë–µ–∑–ø–µ–∫–∞ ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏—Å—å.

### TestFeedbackModel (2 —Ç–µ—Å—Ç–∏)

#### 4Ô∏è‚É£ `test_feedback_to_dict`
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –≤—ñ–¥–≥—É–∫–∞ –≤ JSON
- –°—Ç–≤–æ—Ä—é—î–º–æ –≤—ñ–¥–≥—É–∫ (name, email, message, rating)
- –í–∏–∫–ª–∏–∫–∞—î–º–æ `to_dict()`
- ‚úÖ –í—Å—ñ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç–Ω—ñ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** API –ø–æ–≤–µ—Ä—Ç–∞—î JSON –∫–ª—ñ—î–Ω—Ç—É ‚Äî —Ü–µ –ø–µ—Ä–µ–≤—ñ—è—î–º–æ.

#### 5Ô∏è‚É£ `test_user_to_dict_no_password`
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø–∞—Ä–æ–ª—å –ù–ï –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç—É
- –í–∏–∫–ª–∏–∫–∞—î–º–æ `user.to_dict()`
- ‚úÖ –ù–µ–º–∞—î `password_hash` —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ
- ‚úÖ –Ñ —ñ–Ω—à—ñ –ø–æ–ª—è (email, id, is_admin)

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** –ë–µ–∑–ø–µ–∫–∞! –ù—ñ–∫–æ–ª–∏ –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è–π —Å–µ–Ω—Å–∏—Ç–∏–≤–Ω—ñ –¥–∞–Ω—ñ –∫–ª—ñ—î–Ω—Ç—É.

---

## üåê Integration –¢–µ—Å—Ç–∏ (test_api.py)

Integration —Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—è—é—Ç—å **—Ü—ñ–ª—ñ –ª–∞–Ω—Ü—é–≥–∏**: HTTP –∑–∞–ø–∏—Ç ‚Üí Flask ‚Üí –ë–î ‚Üí –≤—ñ–¥–ø–æ–≤—ñ–¥—å

### TestAuthAPI (4 —Ç–µ—Å—Ç–∏)

#### 1Ô∏è‚É£ `test_register_success`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–µ—î—Å—Ç—Ä—É—î—Ç—å—Å—è
```
POST /auth/register
{
  "email": "newuser@example.com",
  "password": "securepass123"
}
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 201 (–°—Ç–≤–æ—Ä–µ–Ω–æ)
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥—å –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —î –≤ –ë–î

#### 2Ô∏è‚É£ `test_register_short_password`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –∫–æ—Ä–æ—Ç–∫–∏–º –ø–∞—Ä–æ–ª–µ–º
```
POST /auth/register
{
  "email": "user@example.com",
  "password": "123"  // –ú–µ–Ω—à–µ 6 —Å–∏–º–≤–æ–ª—ñ–≤!
}
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 400 (–ü–æ–º–∏–ª–∫–∞)
- ‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É

#### 3Ô∏è‚É£ `test_login_success`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ª–æ–≥—ñ–Ω–∏—Ç—å –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –ø–∞—Ä–æ–ª–µ–º
```
POST /auth/login
{
  "email": "user@test.com",
  "password": "password123"
}
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 200 (OK)
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥—å –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### 4Ô∏è‚É£ `test_login_wrong_password`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ª–æ–≥—ñ–Ω–∏—Ç—å –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –ø–∞—Ä–æ–ª–µ–º
```
POST /auth/login
{
  "email": "user@test.com",
  "password": "wrongpassword"
}
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 401 (–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π)
- ‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É

### TestFeedbackAPI (4 —Ç–µ—Å—Ç–∏)

#### 5Ô∏è‚É£ `test_create_feedback_success`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ª–∏—à–∞—î –≤—ñ–¥–≥—É–∫
```
POST /api/feedback
{
  "name": "Alice",
  "email": "alice@example.com",
  "message": "Amazing app!",
  "rating": 5
}
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 200 (OK)
- ‚úÖ –û—Ç—Ä–∏–º—É—î–º–æ –Ω–∞–∑–∞–¥ –¥–∞–Ω—ñ –≤—ñ–¥–≥—É–∫–∞
- ‚úÖ –í—ñ–¥–≥—É–∫ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ –ë–î

#### 6Ô∏è‚É£ `test_list_feedback`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –û—Ç—Ä–∏–º—É—î–º–æ —Å–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
```
GET /api/feedback
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 200 (OK)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–µ —Å–ø–∏—Å–æ–∫
- ‚úÖ –í—ñ–¥–≥—É–∫–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É

#### 7Ô∏è‚É£ `test_delete_feedback_as_admin`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ê–¥–º—ñ–Ω –≤–∏–¥–∞–ª—è—î –≤—ñ–¥–≥—É–∫
```
DELETE /api/feedback/1
(–∞–¥–º—ñ–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 200 (OK)
- ‚úÖ –í—ñ–¥–≥—É–∫ –≤–∏–¥–∞–ª–µ–Ω –∑ –ë–î

#### 8Ô∏è‚É£ `test_delete_feedback_without_admin`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ó–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—ñ–¥–≥—É–∫
```
DELETE /api/feedback/1
(–∑–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 403 (–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ)
- ‚úÖ –í—ñ–¥–≥—É–∫ –ù–ï –≤–∏–¥–∞–ª–µ–Ω

### TestHealthAPI (1 —Ç–µ—Å—Ç)

#### 9Ô∏è‚É£ `test_health_endpoint`
**–°—Ü–µ–Ω–∞—Ä—ñ–π:** Docker healthcheck –∑–∞–ø–∏—Ç
```
GET /health
```
**–ü–µ—Ä–µ–≤—ñ—è—î–º–æ:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥ = 200 (OK)
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥—å: `{"status": "ok"}`

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:** Docker –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ–π endpoint —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∂–∏–≤–∏–π –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

```
tests/
‚îú‚îÄ‚îÄ conftest.py          # –§—ñ–∫—Å—á—É—Ä–∏ (–ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ, –∫–ª—ñ—î–Ω—Ç–∏)
‚îú‚îÄ‚îÄ test_models.py       # Unit-—Ç–µ—Å—Ç–∏ (5 —Ç–µ—Å—Ç—ñ–≤)
‚îî‚îÄ‚îÄ test_api.py          # Integration-—Ç–µ—Å—Ç–∏ (9 —Ç–µ—Å—Ç—ñ–≤)
```

### –©–æ —Ç–∞–∫–µ —Ñ—ñ–∫—Å—á—É—Ä–∏ (conftest.py)?

–§—ñ–∫—Å—á—É—Ä–∏ ‚Äî —Ü–µ "–≥–æ—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∏" –¥–ª—è —Ç–µ—Å—Ç—ñ–≤:

| –§—ñ–∫—Å—á—É—Ä–∞ | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|----------|-------------|
| `app_with_db` | Flask –¥–æ–¥–∞—Ç–æ–∫ –∑ —Ç–µ—Å—Ç–æ–≤–æ—é –ë–î |
| `client` | HTTP –∫–ª—ñ—î–Ω—Ç –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ |
| `test_user` | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–ª—è unit-—Ç–µ—Å—Ç—ñ–≤ (—Å—Ç–∞–±) |
| `real_user` | –°–ø—Ä–∞–≤–∂–Ω—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ –ë–î (integration) |
| `real_admin` | –°–ø—Ä–∞–≤–∂–Ω—ñ–π –∞–¥–º—ñ–Ω –≤ –ë–î (integration) |
| `logged_in_client_db` | –ö–ª—ñ—î–Ω—Ç –∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ—é —Å–µ—Å—ñ—î—é |
| `logged_in_admin_client_db` | –ö–ª—ñ—î–Ω—Ç –∑ –∞–¥–º—ñ–Ω-—Å–µ—Å—ñ—î—é |

---

## üìä –ü–æ–∫—Ä–∏—Ç—Ç—è (Coverage)

–ó–∞–ø—É—Å—Ç–∏ —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ–∫—Ä–∏—Ç—Ç—è:
```bash
py -m pytest tests/ --cov=. --cov-report=term-missing
```

**–¶—ñ–ª—å–æ–≤—ñ –º—ñ–Ω—ñ–º—É–º–∏ –ø–æ–∫—Ä–∏—Ç—Ç—è:**
- `test_api.py` ‚Äî 100% ‚úÖ
- `test_models.py` ‚Äî 100% ‚úÖ
- `models.py` ‚Äî 80%+ ‚úÖ
- `schemas.py` ‚Äî 90%+ ‚úÖ
- –í—Å—å–æ–≥–æ ‚Äî 40%+ ‚úÖ

---

## ‚ùì –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—ñ

### 1. SQLAlchemy DetachedInstanceError
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±'—î–∫—Ç —ñ—Å–Ω—É—î –ø–æ–∑–∞ —Å–µ—Å—ñ—î—é –ë–î
```python
# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
with app.app_context():
    user = User.query.first()
# –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á "–∑–∞–≥–∏–Ω—É–≤" —Ç—É—Ç ‚Üë

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
with app.app_context():
    user = User.query.first()
    user_id = user.id  # –ë–µ—Ä–µ–º–æ —Ç–æ–ª—å–∫–æ id
    return user_id
```

### 2. –¢–µ—Å—Ç –∑–∞–ª–∏—à–∞—î –¥–∞–Ω—ñ –≤ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞:** app_with_db —Ñ—ñ–∫—Å—á—É—Ä–∞ –ø–æ–≤–∏–Ω–Ω–∞ –æ—á–∏—â–∞—Ç–∏ –¥–∞–Ω—ñ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ—Å—Ç—É
```python
# ‚úÖ conftest.py —Ä–æ–±–∏—Ç—å —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
with app.app_context():
    db.create_all()
    yield app
    db.drop_all()  # –û—á–∏—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—É
```

### 3. –¢–µ—Å—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ —Ç–µ—Å—Ç—É
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ
```python
# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
def test_1(client):
    # —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

def test_2(client):
    # –ù–∞–¥—ñ—î–º–æ—Å—å —â–æ test_1 —Å—Ç–≤–æ—Ä–∏–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞!

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
def test_1(client):
    # —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

def test_2(client, test_user):  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ñ—ñ–∫—Å—á—É—Ä—É
    # –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ —ñ—Å–Ω—É—î
```

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–î–ª—è –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–æ–∂–µ—à:

1. **–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è —ñ–Ω—à–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤:**
   - Products API (GET, POST, DELETE)
   - Orders API
   - Journal API

2. **–î–æ–¥–∞—Ç–∏ edge case —Ç–µ—Å—Ç–∏:**
   - –ü—É—Å—Ç—ñ –ø–æ–ª—è
   - –î—É–∂–µ –¥–æ–≤–≥—ñ –¥–∞–Ω—ñ
   - –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏ –≤ email

3. **–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è –ø–æ–º–∏–ª–æ–∫:**
   - 404 Not Found
   - 500 Server Error
   - –î—É–±–ª—ñ–∫–∞—Ç–Ω—ñ –∑–∞–ø–∏—Ç–∏

4. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫:**
   - –ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∫–æ–º—ñ—Ç—É (pre-commit hook)
   - –ü—Ä–∏ –ø—É—à—ñ –Ω–∞ GitHub (CI/CD)

---

## üìù –ö–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –©–æ —Ä–æ–±–∏—Ç—å |
|---------|----------|
| `py -m pytest tests/ -v` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å–µ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ |
| `py -m pytest tests/test_models.py -v` | –¢—ñ–ª—å–∫–∏ unit-—Ç–µ—Å—Ç–∏ |
| `py -m pytest tests/test_api.py -v` | –¢—ñ–ª—å–∫–∏ integration-—Ç–µ—Å—Ç–∏ |
| `py -m pytest tests/ -k feedback` | –¢—ñ–ª—å–∫–∏ —Ç–µ—Å—Ç–∏ –∑ "feedback" –≤ –Ω–∞–∑–≤—ñ |
| `py -m pytest tests/ --cov=.` | –ó –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è–º –ø–æ–∫—Ä–∏—Ç—Ç—è |
| `py -m pytest tests/ -x` | –ó—É–ø–∏–Ω–∏—Ç–∏—Å—å –Ω–∞ –ø–µ—Ä—à—ñ–π –ø–æ–º–∏–ª—Ü—ñ |
| `py -m pytest tests/ -s` | –ü–æ–∫–∞–∑–∞—Ç–∏ print() –≤ –∫–æ–Ω—Å–æ–ª—ñ |

---

**–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î:** Lab 7 –≤–∏–º–æ–≥–∞–º ‚úÖ
- ‚úÖ 5+ unit —Ç–µ—Å—Ç—ñ–≤
- ‚úÖ 3+ integration —Ç–µ—Å—Ç—ñ–≤
- ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è (43%)
- ‚úÖ Pytest —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤
